var Fe=Object.defineProperty;var we=o=>{throw TypeError(o)};var We=(o,t,e)=>t in o?Fe(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var P=(o,t,e)=>We(o,typeof t!="symbol"?t+"":t,e),le=(o,t,e)=>t.has(o)||we("Cannot "+e);var f=(o,t,e)=>(le(o,t,"read from private field"),e?e.call(o):t.get(o)),T=(o,t,e)=>t.has(o)?we("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),ae=(o,t,e,r)=>(le(o,t,"write to private field"),r?r.call(o,e):t.set(o,e),e),ct=(o,t,e)=>(le(o,t,"access private method"),e);import"./CWj6FrbW.js";import{p as B,L as S,f as k,i as n,a as F,t as Q,ag as X,$ as Y,d as fe,u as ze,a3 as he,c as j,x as Z,r as z,s as ot,B as qe}from"./CId4BCie.js";import{c as O,a as g,t as W,b as je,n as Pe}from"./BKnx-tix.js";import{s as U}from"./D0aaoSU3.js";import{p as I,r as G,i as K,b as tt,c as rt,d as Xe}from"./B0ThxVmG.js";import{m as st,Q as Ye,H as Se,s as et,C as Ce,u as Et,R as ft,U as _t,E as ye,S as de,V as Ne,W as ke,X as Te,Y as Ae,Z as Me,J as He,d as Oe,K as Ge,_ as Je,B as lt,n as dt,$ as Qe,L as Ee,a0 as Ze,a1 as $e,a2 as to,a3 as eo,a4 as oo,f as R,e as vt,N as bt,O as Vt,g as De,I as ge,b as pt,P as ro,a5 as at,a6 as Re,a7 as no}from"./FgnODE38.js";import{o as pe,s as io}from"./CSj7lMIP.js";import{a as so,C as Ve,c as lo,S as ao,B as ho,N as uo}from"./DmdCW1fX.js";import{b as Ue,P as co,a as fo,o as go,F as po,c as vo}from"./CwTnvzBv.js";function mo(o,t,e=!0){if(!(o.length===0||t<0||t>=o.length))return o.length===1&&t===0?o[0]:t===o.length-1?e?o[0]:void 0:o[t+1]}function _o(o,t,e=!0){if(!(o.length===0||t<0||t>=o.length))return o.length===1&&t===0?o[0]:t===0?e?o[o.length-1]:void 0:o[t-1]}function bo(o,t,e,r=!0){if(o.length===0||t<0||t>=o.length)return;let s=t+e;return r?s=(s%o.length+o.length)%o.length:s=Math.max(0,Math.min(s,o.length-1)),o[s]}function wo(o,t,e,r=!0){if(o.length===0||t<0||t>=o.length)return;let s=t-e;return r?s=(s%o.length+o.length)%o.length:s=Math.max(0,Math.min(s,o.length-1)),o[s]}function ve(o,t,e){const r=t.toLowerCase();if(r.endsWith(" ")){const i=r.slice(0,-1);if(o.filter(_=>_.toLowerCase().startsWith(i)).length<=1)return ve(o,i,e);const N=e==null?void 0:e.toLowerCase();if(N&&N.startsWith(i)&&N.charAt(i.length)===" "&&t.trim()===i)return e;const M=o.filter(_=>_.toLowerCase().startsWith(r));if(M.length>0){const _=e?o.indexOf(e):-1;return xe(M,Math.max(_,0)).find(h=>h!==e)||e}}const p=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,l=p.toLowerCase(),u=e?o.indexOf(e):-1;let b=xe(o,Math.max(u,0));p.length===1&&(b=b.filter(i=>i!==e));const a=b.find(i=>i==null?void 0:i.toLowerCase().startsWith(l));return a!==e?a:void 0}function xe(o,t){return o.map((e,r)=>o[(t+r)%o.length])}var So=W("<input>"),yo=W("<input>");function No(o,t){B(t,!0);let e=I(t,"value",15),r=G(t,["$$slots","$$events","$$legacy","value"]);const s=S(()=>st(r,{"aria-hidden":"true",tabindex:-1,style:Ye}));var p=O(),l=k(p);{var u=m=>{var a=So();Se(a);let i;Q(()=>i=et(a,i,{...n(s),value:e()})),g(m,a)},b=m=>{var a=yo();Se(a);let i;Q(()=>i=et(a,i,{...n(s)})),so(a,e),g(m,a)};K(l,m=>{n(s).type==="checkbox"?m(u):m(b,!1)})}g(o,p),F()}function xo(o){const t=Ue("",1e3),e=(o==null?void 0:o.onMatch)??(l=>l.focus()),r=(o==null?void 0:o.getCurrentItem)??(()=>document.activeElement);function s(l,u){var N;if(!u.length)return;t.current=t.current+l;const b=r(),m=((N=u.find(M=>M===b))==null?void 0:N.textContent)??"",a=u.map(M=>M.textContent??""),i=ve(a,t.current,m),v=u.find(M=>M.textContent===i);return v&&e(v),v}function p(){t.current=""}return{search:t,handleTypeaheadSearch:s,resetTypeahead:p}}function Io(o){const t=Ue("",1e3),e=S(()=>o.candidateValues());function r(p){if(!o.enabled||!n(e).length)return;t.current=t.current+p;const l=o.getCurrentItem(),u=n(e).find(i=>i===l)??"",b=n(e).map(i=>i??""),m=ve(b,t.current,u),a=n(e).find(i=>i===m);return a&&o.onMatch(a),a}function s(){t.current=""}return{search:t,handleTypeaheadSearch:r,resetTypeahead:s}}const Po=[_t,ke,Te],Co=[ft,Ae,Me],ko=[...Po,...Co];var wt,St,yt,Nt,xt,It,Pt,Ut,Lt,Kt;class Le{constructor(t){P(this,"opts");T(this,wt,X(!1));T(this,St,X(""));T(this,yt,X(null));T(this,Nt,X(null));T(this,xt,X(null));T(this,It,X(""));T(this,Pt,X(null));T(this,Ut,S(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-value"):null));T(this,Lt,S(()=>{if(this.highlightedNode)return this.highlightedNode.id}));T(this,Kt,S(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-label"):null));P(this,"isUsingKeyboard",!1);P(this,"isCombobox",!1);P(this,"bitsAttrs");this.opts=t,this.isCombobox=t.isCombobox,this.bitsAttrs=Xo(this),ze(()=>{this.opts.open.current||this.setHighlightedNode(null)})}get touchedInput(){return n(f(this,wt))}set touchedInput(t){Y(f(this,wt),t,!0)}get inputValue(){return n(f(this,St))}set inputValue(t){Y(f(this,St),t,!0)}get inputNode(){return n(f(this,yt))}set inputNode(t){Y(f(this,yt),t,!0)}get contentNode(){return n(f(this,Nt))}set contentNode(t){Y(f(this,Nt),t,!0)}get triggerNode(){return n(f(this,xt))}set triggerNode(t){Y(f(this,xt),t,!0)}get valueId(){return n(f(this,It))}set valueId(t){Y(f(this,It),t,!0)}get highlightedNode(){return n(f(this,Pt))}set highlightedNode(t){Y(f(this,Pt),t,!0)}get highlightedValue(){return n(f(this,Ut))}get highlightedId(){return n(f(this,Lt))}get highlightedLabel(){return n(f(this,Kt))}setHighlightedNode(t,e=!1){this.highlightedNode=t,t&&(this.isUsingKeyboard||e)&&t.scrollIntoView({block:"nearest"})}getCandidateNodes(){const t=this.contentNode;return t?Array.from(t.querySelectorAll(`[${this.bitsAttrs.item}]:not([data-disabled])`)):[]}setHighlightedToFirstCandidate(){this.setHighlightedNode(null);const t=this.getCandidateNodes();t.length&&this.setHighlightedNode(t[0])}getNodeByValue(t){return this.getCandidateNodes().find(r=>r.dataset.value===t)??null}setOpen(t){this.opts.open.current=t}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleOpen(){this.setOpen(!0)}handleClose(){this.setHighlightedNode(null),this.setOpen(!1)}toggleMenu(){this.toggleOpen()}}wt=new WeakMap,St=new WeakMap,yt=new WeakMap,Nt=new WeakMap,xt=new WeakMap,It=new WeakMap,Pt=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Kt=new WeakMap;var Bt,Ft,Wt,zt;class To extends Le{constructor(e){super(e);P(this,"opts");P(this,"isMulti",!1);T(this,Bt,S(()=>this.opts.value.current!==""));T(this,Ft,S(()=>{var r;return this.opts.items.current.length?((r=this.opts.items.current.find(s=>s.value===this.opts.value.current))==null?void 0:r.label)??"":""}));T(this,Wt,S(()=>this.opts.items.current.length?this.opts.items.current.filter(r=>!r.disabled).map(r=>r.label):[]));T(this,zt,S(()=>!(this.isMulti||this.opts.items.current.length===0)));this.opts=e,fe(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),lt(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}get hasValue(){return n(f(this,Bt))}get currentLabel(){return n(f(this,Ft))}get candidateLabels(){return n(f(this,Wt))}get dataTypeaheadEnabled(){return n(f(this,zt))}includesItem(e){return this.opts.value.current===e}toggleItem(e,r=e){this.opts.value.current=this.includesItem(e)?"":e,this.inputValue=r}setInitialHighlightedNode(){Ee(()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current!==""){const r=this.getNodeByValue(this.opts.value.current);if(r){this.setHighlightedNode(r,!0);return}}const e=this.getCandidateNodes()[0];e&&this.setHighlightedNode(e,!0)})}}Bt=new WeakMap,Ft=new WeakMap,Wt=new WeakMap,zt=new WeakMap;var qt;class Ao extends Le{constructor(e){super(e);P(this,"opts");P(this,"isMulti",!0);T(this,qt,S(()=>this.opts.value.current.length>0));this.opts=e,fe(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),lt(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}get hasValue(){return n(f(this,qt))}includesItem(e){return this.opts.value.current.includes(e)}toggleItem(e,r=e){this.includesItem(e)?this.opts.value.current=this.opts.value.current.filter(s=>s!==e):this.opts.value.current=[...this.opts.value.current,e],this.inputValue=r}setInitialHighlightedNode(){Ee(()=>{if(this.highlightedNode&&document.contains(this.highlightedNode))return;if(this.opts.value.current.length&&this.opts.value.current[0]!==""){const r=this.getNodeByValue(this.opts.value.current[0]);if(r){this.setHighlightedNode(r,!0);return}}const e=this.getCandidateNodes()[0];e&&this.setHighlightedNode(e,!0)})}}qt=new WeakMap;var ut,gt,nt,Ke,ue,ce,jt;class Mo{constructor(t,e){T(this,nt);P(this,"opts");P(this,"root");T(this,ut);T(this,gt);T(this,jt,S(()=>({id:this.opts.id.current,disabled:this.root.opts.disabled.current?!0:void 0,"aria-haspopup":"listbox","aria-expanded":Ge(this.root.opts.open.current),"aria-activedescendant":this.root.highlightedId,"data-state":Oe(this.root.opts.open.current),"data-disabled":He(this.root.opts.disabled.current),"data-placeholder":this.root.hasValue?void 0:"",[this.root.bitsAttrs.trigger]:"",onpointerdown:this.onpointerdown,onkeydown:this.onkeydown,onclick:this.onclick,onpointerup:this.onpointerup})));this.opts=t,this.root=e,Et({...t,onRefChange:r=>{this.root.triggerNode=r}}),ae(this,ut,xo({getCurrentItem:()=>this.root.highlightedNode,onMatch:r=>{this.root.setHighlightedNode(r)}})),ae(this,gt,Io({getCurrentItem:()=>this.root.isMulti?"":this.root.currentLabel,onMatch:r=>{if(this.root.isMulti||!this.root.opts.items.current)return;const s=this.root.opts.items.current.find(p=>p.label===r);s&&(this.root.opts.value.current=s.value)},enabled:!this.root.isMulti&&this.root.dataTypeaheadEnabled,candidateValues:()=>this.root.isMulti?[]:this.root.candidateLabels})),this.onkeydown=this.onkeydown.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onclick=this.onclick.bind(this)}onkeydown(t){if(this.root.isUsingKeyboard=!0,(t.key===ft||t.key===_t)&&t.preventDefault(),!this.root.opts.open.current){if(t.key===ye||t.key===de||t.key===_t||t.key===ft)t.preventDefault(),this.root.handleOpen();else if(!this.root.isMulti&&this.root.dataTypeaheadEnabled){f(this,gt).handleTypeaheadSearch(t.key);return}if(this.root.hasValue)return;const l=this.root.getCandidateNodes();if(!l.length)return;if(t.key===_t){const u=l[0];this.root.setHighlightedNode(u)}else if(t.key===ft){const u=l[l.length-1];this.root.setHighlightedNode(u)}return}if(t.key===Ne){this.root.handleClose();return}if((t.key===ye||t.key===de&&f(this,ut).search.current==="")&&!t.isComposing&&(t.preventDefault(),ct(this,nt,ce).call(this)))return;if(t.key===ft&&t.altKey&&this.root.handleClose(),ko.includes(t.key)){t.preventDefault();const l=this.root.getCandidateNodes(),u=this.root.highlightedNode,b=u?l.indexOf(u):-1,m=this.root.opts.loop.current;let a;if(t.key===_t?a=mo(l,b,m):t.key===ft?a=_o(l,b,m):t.key===Ae?a=bo(l,b,10,m):t.key===ke?a=wo(l,b,10,m):t.key===Te?a=l[0]:t.key===Me&&(a=l[l.length-1]),!a)return;this.root.setHighlightedNode(a);return}const e=t.ctrlKey||t.altKey||t.metaKey,r=t.key.length===1,s=t.key===de,p=this.root.getCandidateNodes();if(t.key!==Ne){if(!e&&(r||s)){!f(this,ut).handleTypeaheadSearch(t.key,p)&&s&&(t.preventDefault(),ct(this,nt,ce).call(this));return}this.root.highlightedNode||this.root.setHighlightedToFirstCandidate()}}onclick(t){t.currentTarget.focus()}onpointerdown(t){if(this.root.opts.disabled.current)return;if(t.pointerType==="touch")return t.preventDefault();const e=t.target;e!=null&&e.hasPointerCapture(t.pointerId)&&(e==null||e.releasePointerCapture(t.pointerId)),t.button===0&&t.ctrlKey===!1&&(this.root.opts.open.current===!1?ct(this,nt,ue).call(this,t):this.root.handleClose())}onpointerup(t){t.preventDefault(),t.pointerType==="touch"&&(this.root.opts.open.current===!1?ct(this,nt,ue).call(this,t):this.root.handleClose())}get props(){return n(f(this,jt))}}ut=new WeakMap,gt=new WeakMap,nt=new WeakSet,Ke=function(){this.root.opts.open.current=!0,f(this,gt).resetTypeahead(),f(this,ut).resetTypeahead()},ue=function(t){ct(this,nt,Ke).call(this)},ce=function(){const t=this.root.highlightedValue===this.root.opts.value.current;return!this.root.opts.allowDeselect.current&&t&&!this.root.isMulti?(this.root.handleClose(),!0):(this.root.highlightedValue!==null&&this.root.toggleItem(this.root.highlightedValue,this.root.highlightedLabel??void 0),!this.root.isMulti&&!t?(this.root.handleClose(),!0):!1)},jt=new WeakMap;var Ct,kt,Xt,Yt,Gt;class Ho{constructor(t,e){P(this,"opts");P(this,"root");T(this,Ct,X(null));T(this,kt,X(!1));T(this,Xt,S(()=>{const t=this.root.isCombobox?"--bits-combobox":"--bits-select";return{[`${t}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`${t}-content-available-width`]:"var(--bits-floating-available-width)",[`${t}-content-available-height`]:"var(--bits-floating-available-height)",[`${t}-anchor-width`]:" var(--bits-floating-anchor-width)",[`${t}-anchor-height`]:"var(--bits-floating-anchor-height)"}}));P(this,"onInteractOutside",t=>{if(t.target===this.root.triggerNode||t.target===this.root.inputNode){t.preventDefault();return}this.opts.onInteractOutside.current(t),!t.defaultPrevented&&this.root.handleClose()});P(this,"onEscapeKeydown",t=>{this.opts.onEscapeKeydown.current(t),!t.defaultPrevented&&this.root.handleClose()});P(this,"onOpenAutoFocus",t=>{t.preventDefault()});P(this,"onCloseAutoFocus",t=>{t.preventDefault()});T(this,Yt,S(()=>({open:this.root.opts.open.current})));T(this,Gt,S(()=>({id:this.opts.id.current,role:"listbox","aria-multiselectable":this.root.isMulti?"true":void 0,"data-state":Oe(this.root.opts.open.current),[this.root.bitsAttrs.content]:"",style:{display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",pointerEvents:"auto",...n(f(this,Xt))},onpointermove:this.onpointermove})));P(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus,trapFocus:!1,loop:!1,onPlaced:()=>{this.isPositioned=!0}});this.opts=t,this.root=e,Et({...t,onRefChange:r=>{this.root.contentNode=r},deps:()=>this.root.opts.open.current}),Je(()=>{this.root.contentNode=null,this.isPositioned=!1}),lt(()=>this.root.opts.open.current,()=>{this.root.opts.open.current||(this.isPositioned=!1)}),this.onpointermove=this.onpointermove.bind(this)}get viewportNode(){return n(f(this,Ct))}set viewportNode(t){Y(f(this,Ct),t,!0)}get isPositioned(){return n(f(this,kt))}set isPositioned(t){Y(f(this,kt),t,!0)}onpointermove(t){this.root.isUsingKeyboard=!1}get snippetProps(){return n(f(this,Yt))}get props(){return n(f(this,Gt))}}Ct=new WeakMap,kt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Gt=new WeakMap;var Jt,Qt,Tt,Zt,$t;class Oo{constructor(t,e){P(this,"opts");P(this,"root");T(this,Jt,S(()=>this.root.includesItem(this.opts.value.current)));T(this,Qt,S(()=>this.root.highlightedValue===this.opts.value.current));P(this,"prevHighlighted",new eo(()=>this.isHighlighted));T(this,Tt,X(!1));T(this,Zt,S(()=>({selected:this.isSelected,highlighted:this.isHighlighted})));T(this,$t,S(()=>({id:this.opts.id.current,role:"option","aria-selected":this.root.includesItem(this.opts.value.current)?"true":void 0,"data-value":this.opts.value.current,"data-disabled":He(this.opts.disabled.current),"data-highlighted":this.root.highlightedValue===this.opts.value.current?"":void 0,"data-selected":this.root.includesItem(this.opts.value.current)?"":void 0,"data-label":this.opts.label.current,[this.root.bitsAttrs.item]:"",onpointermove:this.onpointermove,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup})));this.opts=t,this.root=e,Et({...t,deps:()=>this.mounted}),lt([()=>this.isHighlighted,()=>this.prevHighlighted.current],()=>{this.isHighlighted?this.opts.onHighlight.current():this.prevHighlighted.current&&this.opts.onUnhighlight.current()}),lt(()=>this.mounted,()=>{this.mounted&&this.root.setInitialHighlightedNode()}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onpointermove=this.onpointermove.bind(this)}get isSelected(){return n(f(this,Jt))}get isHighlighted(){return n(f(this,Qt))}get mounted(){return n(f(this,Tt))}set mounted(t){Y(f(this,Tt),t,!0)}handleSelect(){if(this.opts.disabled.current)return;const t=this.opts.value.current===this.root.opts.value.current;if(!this.root.opts.allowDeselect.current&&t&&!this.root.isMulti){this.root.handleClose();return}this.root.toggleItem(this.opts.value.current,this.opts.label.current),!this.root.isMulti&&!t&&this.root.handleClose()}get snippetProps(){return n(f(this,Zt))}onpointerdown(t){t.preventDefault()}onpointerup(t){if(!(t.defaultPrevented||!this.opts.ref.current)){if(t.pointerType==="touch"&&!oo){pe(this.opts.ref.current,"click",()=>{this.handleSelect(),this.root.setHighlightedNode(this.opts.ref.current)},{once:!0});return}t.preventDefault(),this.handleSelect(),t.pointerType==="touch"&&this.root.setHighlightedNode(this.opts.ref.current)}}onpointermove(t){t.pointerType!=="touch"&&this.root.highlightedNode!==this.opts.ref.current&&this.root.setHighlightedNode(this.opts.ref.current)}get props(){return n(f(this,$t))}}Jt=new WeakMap,Qt=new WeakMap,Tt=new WeakMap,Zt=new WeakMap,$t=new WeakMap;var te,ee;class Eo{constructor(t,e){P(this,"opts");P(this,"root");T(this,te,S(()=>this.root.opts.name.current!==""));T(this,ee,S(()=>({disabled:$e(this.root.opts.disabled.current),required:Ze(this.root.opts.required.current),name:this.root.opts.name.current,value:this.opts.value.current,onfocus:this.onfocus})));this.opts=t,this.root=e,this.onfocus=this.onfocus.bind(this)}get shouldRender(){return n(f(this,te))}onfocus(t){var e,r;t.preventDefault(),this.root.isCombobox?(r=this.root.inputNode)==null||r.focus():(e=this.root.triggerNode)==null||e.focus()}get props(){return n(f(this,ee))}}te=new WeakMap,ee=new WeakMap;var At,oe;class Do{constructor(t,e){P(this,"opts");P(this,"content");P(this,"root");T(this,At,X(0));T(this,oe,S(()=>({id:this.opts.id.current,role:"presentation",[this.root.bitsAttrs.viewport]:"",style:{position:"relative",flex:1,overflow:"auto"}})));this.opts=t,this.content=e,this.root=e.root,Et({...t,onRefChange:r=>{this.content.viewportNode=r},deps:()=>this.root.opts.open.current})}get prevScrollTop(){return n(f(this,At))}set prevScrollTop(t){Y(f(this,At),t,!0)}get props(){return n(f(this,oe))}}At=new WeakMap,oe=new WeakMap;var Mt,re;class Be{constructor(t,e){P(this,"opts");P(this,"content");P(this,"root");P(this,"autoScrollInterval",null);P(this,"userScrollTimer",-1);P(this,"isUserScrolling",!1);P(this,"onAutoScroll",dt);T(this,Mt,X(!1));T(this,re,S(()=>({id:this.opts.id.current,"aria-hidden":Qe(!0),style:{flexShrink:0},onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointerleave:this.onpointerleave})));this.opts=t,this.content=e,this.root=e.root,Et({...t,deps:()=>this.mounted}),lt([()=>this.mounted],()=>{if(!this.mounted){this.isUserScrolling=!1;return}this.isUserScrolling}),fe(()=>{this.mounted||this.clearAutoScrollInterval()}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this)}get mounted(){return n(f(this,Mt))}set mounted(t){Y(f(this,Mt),t,!0)}handleUserScroll(){window.clearTimeout(this.userScrollTimer),this.isUserScrolling=!0,this.userScrollTimer=window.setTimeout(()=>{this.isUserScrolling=!1},200)}clearAutoScrollInterval(){this.autoScrollInterval!==null&&(window.clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)}onpointerdown(t){this.autoScrollInterval===null&&(this.autoScrollInterval=window.setInterval(()=>{this.onAutoScroll()},50))}onpointermove(t){this.autoScrollInterval===null&&(this.autoScrollInterval=window.setInterval(()=>{this.onAutoScroll()},50))}onpointerleave(t){this.clearAutoScrollInterval()}get props(){return n(f(this,re))}}Mt=new WeakMap,re=new WeakMap;var Ht,ne;class Ro{constructor(t){P(this,"state");P(this,"content");P(this,"root");T(this,Ht,X(!1));P(this,"scrollIntoViewTimer",null);P(this,"handleScroll",(t=!1)=>{if(t||this.state.handleUserScroll(),!this.content.viewportNode)return;const e=this.content.viewportNode.scrollHeight-this.content.viewportNode.clientHeight,r=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollDown=Math.ceil(this.content.viewportNode.scrollTop)<e-r});P(this,"handleAutoScroll",()=>{const t=this.content.viewportNode,e=this.root.highlightedNode;!t||!e||(t.scrollTop=t.scrollTop+e.offsetHeight)});T(this,ne,S(()=>({...this.state.props,[this.root.bitsAttrs["scroll-down-button"]]:""})));this.state=t,this.content=t.content,this.root=t.root,this.state.onAutoScroll=this.handleAutoScroll,lt([()=>this.content.viewportNode,()=>this.content.isPositioned],()=>{if(!(!this.content.viewportNode||!this.content.isPositioned))return this.handleScroll(!0),pe(this.content.viewportNode,"scroll",()=>this.handleScroll())}),lt(()=>this.state.mounted,()=>{this.state.mounted&&(this.scrollIntoViewTimer&&clearTimeout(this.scrollIntoViewTimer),this.scrollIntoViewTimer=to(5,()=>{const e=this.root.highlightedNode;e==null||e.scrollIntoView({block:"nearest"})}))})}get canScrollDown(){return n(f(this,Ht))}set canScrollDown(t){Y(f(this,Ht),t,!0)}get props(){return n(f(this,ne))}}Ht=new WeakMap,ne=new WeakMap;var Ot,ie;class Vo{constructor(t){P(this,"state");P(this,"content");P(this,"root");T(this,Ot,X(!1));P(this,"handleScroll",(t=!1)=>{if(t||this.state.handleUserScroll(),!this.content.viewportNode)return;const e=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollUp=this.content.viewportNode.scrollTop-e>.1});P(this,"handleAutoScroll",()=>{!this.content.viewportNode||!this.root.highlightedNode||(this.content.viewportNode.scrollTop=this.content.viewportNode.scrollTop-this.root.highlightedNode.offsetHeight)});T(this,ie,S(()=>({...this.state.props,[this.root.bitsAttrs["scroll-up-button"]]:""})));this.state=t,this.content=t.content,this.root=t.root,this.state.onAutoScroll=this.handleAutoScroll,lt([()=>this.content.viewportNode,()=>this.content.isPositioned],()=>{if(!(!this.content.viewportNode||!this.content.isPositioned))return this.handleScroll(!0),pe(this.content.viewportNode,"scroll",()=>this.handleScroll())})}get canScrollUp(){return n(f(this,Ot))}set canScrollUp(t){Y(f(this,Ot),t,!0)}get props(){return n(f(this,ie))}}Ot=new WeakMap,ie=new WeakMap;const Dt=new Ce("Select.Root | Combobox.Root"),se=new Ce("Select.Content | Combobox.Content");function Uo(o){const{type:t,...e}=o,r=t==="single"?new To(e):new Ao(e);return Dt.set(r)}function Lo(o){return se.set(new Ho(o,Dt.get()))}function Ko(o){return new Mo(o,Dt.get())}function Bo(o){return new Oo(o,Dt.get())}function Fo(o){return new Do(o,se.get())}function Wo(o){return new Vo(new Be(o,se.get()))}function zo(o){return new Ro(new Be(o,se.get()))}function qo(o){return new Eo(o,Dt.get())}const jo=["trigger","content","item","viewport","scroll-up-button","scroll-down-button","group","group-label","separator","arrow","input","content-wrapper","item-text","value"];function Xo(o){const t=o.isCombobox,e={};for(const r of jo)e[r]=t?`data-combobox-${r}`:`data-select-${r}`;return e}function Ie(o,t){B(t,!0);let e=I(t,"value",15,"");const r=qo({value:R.with(()=>e())});var s=O(),p=k(s);{var l=u=>{No(u,tt(()=>r.props,{get value(){return e()},set value(b){e(b)}}))};K(p,u=>{r.shouldRender&&u(l)})}g(o,s),F()}var Yo=W("<div><div><!></div></div>"),Go=W("<div><div><!></div></div>");function Jo(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=I(t,"forceMount",3,!1),p=I(t,"side",3,"bottom"),l=I(t,"onInteractOutside",3,dt),u=I(t,"onEscapeKeydown",3,dt),b=I(t,"preventScroll",3,!1),m=G(t,["$$slots","$$events","$$legacy","id","ref","forceMount","side","onInteractOutside","onEscapeKeydown","children","child","preventScroll"]);const a=Lo({id:R.with(()=>e()),ref:R.with(()=>r(),c=>r(c)),onInteractOutside:R.with(()=>l()),onEscapeKeydown:R.with(()=>u())}),i=S(()=>st(m,a.props));var v=O(),N=k(v);{var M=c=>{co(c,tt(()=>n(i),()=>a.popperProps,{get side(){return p()},get enabled(){return a.root.opts.open.current},get id(){return e()},get preventScroll(){return b()},forceMount:!0,popper:(h,d)=>{let w=()=>d==null?void 0:d().props,x=()=>d==null?void 0:d().wrapperProps;var A=O();const C=S(()=>st(w(),{style:a.props.style}));var H=k(A);{var D=E=>{var q=O(),it=k(q),J=he(()=>({props:n(C),wrapperProps:x(),...a.snippetProps}));U(it,()=>t.child,()=>n(J)),g(E,q)},V=E=>{var q=Yo();let it;var J=j(q);let $;var L=j(J);U(L,()=>t.children??Z),z(J),z(q),Q(()=>{it=et(q,it,{...x()}),$=et(J,$,{...n(C)})}),g(E,q)};K(H,E=>{t.child?E(D):E(V,!1)})}g(h,A)},$$slots:{popper:!0}}))},_=(c,y)=>{{var h=d=>{fo(d,tt(()=>n(i),()=>a.popperProps,{get side(){return p()},get present(){return a.root.opts.open.current},get id(){return e()},get preventScroll(){return b()},forceMount:!1,popper:(x,A)=>{let C=()=>A==null?void 0:A().props,H=()=>A==null?void 0:A().wrapperProps;var D=O();const V=S(()=>st(C(),{style:a.props.style}));var E=k(D);{var q=J=>{var $=O(),L=k($),ht=he(()=>({props:n(V),wrapperProps:H(),...a.snippetProps}));U(L,()=>t.child,()=>n(ht)),g(J,$)},it=J=>{var $=Go();let L;var ht=j($);let mt;var Rt=j(ht);U(Rt,()=>t.children??Z),z(ht),z($),Q(()=>{L=et($,L,{...H()}),mt=et(ht,mt,{...n(V)})}),g(J,$)};K(E,J=>{t.child?J(q):J(it,!1)})}g(x,D)},$$slots:{popper:!0}}))};K(c,d=>{s()||d(h)},y)}};K(N,c=>{s()?c(M):c(_,!1)})}g(o,v),F()}function me(o,t){B(t,!0);let e=I(t,"mounted",15,!1),r=I(t,"onMountedChange",3,dt);go(()=>(e(!0),r()(!0),()=>{e(!1),r()(!1)})),F()}var Qo=W("<div><!></div>"),Zo=W("<!> <!>",1);function $o(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=I(t,"label",19,()=>t.value),p=I(t,"disabled",3,!1),l=I(t,"onHighlight",3,dt),u=I(t,"onUnhighlight",3,dt),b=G(t,["$$slots","$$events","$$legacy","id","ref","value","label","disabled","children","child","onHighlight","onUnhighlight"]);const m=Bo({id:R.with(()=>e()),ref:R.with(()=>r(),c=>r(c)),value:R.with(()=>t.value),disabled:R.with(()=>p()),label:R.with(()=>s()),onHighlight:R.with(()=>l()),onUnhighlight:R.with(()=>u())}),a=S(()=>st(b,m.props));var i=Zo(),v=k(i);{var N=c=>{var y=O(),h=k(y),d=he(()=>({props:n(a),...m.snippetProps}));U(h,()=>t.child,()=>n(d)),g(c,y)},M=c=>{var y=Qo();let h;var d=j(y);U(d,()=>t.children??Z,()=>m.snippetProps),z(y),Q(()=>h=et(y,h,{...n(a)})),g(c,y)};K(v,c=>{t.child?c(N):c(M,!1)})}var _=ot(v,2);me(_,{get mounted(){return m.mounted},set mounted(c){m.mounted=c}}),g(o,i),F()}var tr=W("<div><!></div>");function er(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=G(t,["$$slots","$$events","$$legacy","id","ref","children","child"]);const p=Fo({id:R.with(()=>e()),ref:R.with(()=>r(),i=>r(i))}),l=S(()=>st(s,p.props));var u=O(),b=k(u);{var m=i=>{var v=O(),N=k(v);U(N,()=>t.child,()=>({props:n(l)})),g(i,v)},a=i=>{var v=tr();let N;var M=j(v);U(M,()=>t.children??Z),z(v),Q(()=>N=et(v,N,{...n(l)})),g(i,v)};K(b,i=>{t.child?i(m):i(a,!1)})}g(o,u),F()}var or=W("<div><!></div>"),rr=W("<!> <!>",1);function nr(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=G(t,["$$slots","$$events","$$legacy","id","ref","child","children"]);const p=zo({id:R.with(()=>e()),ref:R.with(()=>r(),a=>r(a))}),l=S(()=>st(s,p.props));var u=O(),b=k(u);{var m=a=>{var i=rr(),v=k(i);me(v,{get mounted(){return p.state.mounted},set mounted(c){p.state.mounted=c}});var N=ot(v,2);{var M=c=>{var y=O(),h=k(y);U(h,()=>t.child,()=>({props:s})),g(c,y)},_=c=>{var y=or();let h;var d=j(y);U(d,()=>t.children??Z),z(y),Q(()=>h=et(y,h,{...n(l)})),g(c,y)};K(N,c=>{t.child?c(M):c(_,!1)})}g(a,i)};K(b,a=>{p.canScrollDown&&a(m)})}g(o,u),F()}var ir=W("<div><!></div>"),sr=W("<!> <!>",1);function lr(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=G(t,["$$slots","$$events","$$legacy","id","ref","child","children"]);const p=Wo({id:R.with(()=>e()),ref:R.with(()=>r(),a=>r(a))}),l=S(()=>st(s,p.props));var u=O(),b=k(u);{var m=a=>{var i=sr(),v=k(i);me(v,{get mounted(){return p.state.mounted},set mounted(c){p.state.mounted=c}});var N=ot(v,2);{var M=c=>{var y=O(),h=k(y);U(h,()=>t.child,()=>({props:s})),g(c,y)},_=c=>{var y=ir();let h;var d=j(y);U(d,()=>t.children??Z),z(y),Q(()=>h=et(y,h,{...n(l)})),g(c,y)};K(N,c=>{t.child?c(M):c(_,!1)})}g(a,i)};K(b,a=>{p.canScrollUp&&a(m)})}g(o,u),F()}var ar=W("<!> <!>",1);function dr(o,t){B(t,!0);let e=I(t,"value",15),r=I(t,"onValueChange",3,dt),s=I(t,"name",3,""),p=I(t,"disabled",3,!1),l=I(t,"open",15,!1),u=I(t,"onOpenChange",3,dt),b=I(t,"loop",3,!1),m=I(t,"scrollAlignment",3,"nearest"),a=I(t,"required",3,!1),i=I(t,"items",19,()=>[]),v=I(t,"allowDeselect",3,!1);if(e()===void 0){const d=t.type==="single"?"":[];e(d)}const N=Uo({type:t.type,value:R.with(()=>e(),d=>{e(d),r()(d)}),disabled:R.with(()=>p()),required:R.with(()=>a()),open:R.with(()=>l(),d=>{l(d),u()(d)}),loop:R.with(()=>b()),scrollAlignment:R.with(()=>m()),name:R.with(()=>s()),isCombobox:!1,items:R.with(()=>i()),allowDeselect:R.with(()=>v())});var M=ar(),_=k(M);po(_,{children:(d,w)=>{var x=O(),A=k(x);U(A,()=>t.children??Z),g(d,x)},$$slots:{default:!0}});var c=ot(_,2);{var y=d=>{var w=O(),x=k(w);{var A=C=>{var H=O(),D=k(H);bt(D,17,()=>N.opts.value.current,Vt,(V,E)=>{Ie(V,{get value(){return n(E)}})}),g(C,H)};K(x,C=>{N.opts.value.current.length&&C(A)})}g(d,w)},h=d=>{Ie(d,{get value(){return N.opts.value.current},set value(w){N.opts.value.current=w}})};K(c,d=>{Array.isArray(N.opts.value.current)?d(y):d(h,!1)})}g(o,M),F()}var hr=W("<button><!></button>");function ur(o,t){B(t,!0);let e=I(t,"id",19,vt),r=I(t,"ref",15,null),s=I(t,"type",3,"button"),p=G(t,["$$slots","$$events","$$legacy","id","ref","child","children","type"]);const l=Ko({id:R.with(()=>e()),ref:R.with(()=>r(),N=>r(N))}),u=S(()=>st(p,l.props,{type:s()})),b=De(),[m,a]=b;var i=O(),v=k(i);rt(v,()=>vo,(N,M)=>{M(N,{get id(){return e()},children:(_,c)=>{var y=O(),h=k(y);{var d=x=>{var A=O(),C=k(A);U(C,()=>t.child,()=>({props:n(u)})),g(x,A)},w=x=>{var A=hr();let C;var H=j(A);U(H,()=>t.children??Z),z(A),Q(D=>C=et(A,C,{...D}),[()=>a({...n(u)},[{attribute_name:"formaction"}])]),g(x,A)};K(h,x=>{t.child?x(d):x(w,!1)})}g(_,y)},$$slots:{default:!0}})}),g(o,i),F()}function Rr(o,t){B(t,!0);let e=G(t,["$$slots","$$events","$$legacy"]);ge(o,tt({name:"plus"},()=>e,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(s,p)=>{var l=O(),u=k(l);U(u,()=>t.children??Z),g(s,l)},$$slots:{default:!0}})),F()}function cr(o,t){B(t,!0);let e=G(t,["$$slots","$$events","$$legacy"]);ge(o,tt({name:"check"},()=>e,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(s,p)=>{var l=O(),u=k(l);U(u,()=>t.children??Z),g(s,l)},$$slots:{default:!0}})),F()}var fr=W('<span class="absolute right-2 flex size-3.5 items-center justify-center"><!></span> <!>',1);function Vr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class","value","label","children"]);var s=O(),p=k(s);const l=S(()=>pt("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.class));rt(p,()=>$o,(u,b)=>{b(u,tt({get value(){return t.value},get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(a){e(a)},children:(a,i)=>{let v=()=>i==null?void 0:i().selected,N=()=>i==null?void 0:i().highlighted;var M=fr(),_=k(M),c=j(_);{var y=x=>{cr(x,{class:"size-4"})};K(c,x=>{v()&&x(y)})}z(_);var h=ot(_,2);{var d=x=>{var A=O(),C=k(A);U(C,()=>t.children,()=>({selected:v(),highlighted:N()})),g(x,A)},w=x=>{var A=je();Q(()=>io(A,t.label||t.value)),g(x,A)};K(h,x=>{t.children?x(d):x(w,!1)})}g(a,M)},$$slots:{default:!0}}))}),g(o,s),F()}var gr=W("<!> <!> <!>",1);function Ur(o,t){B(t,!0);let e=I(t,"ref",15,null),r=I(t,"sideOffset",3,4),s=G(t,["$$slots","$$events","$$legacy","ref","class","sideOffset","portalProps","children"]);var p=O(),l=k(p);rt(l,()=>ro,(u,b)=>{b(u,tt(()=>t.portalProps,{children:(m,a)=>{var i=O(),v=k(i);const N=S(()=>pt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 bg-popover text-popover-foreground relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t.class));rt(v,()=>Jo,(M,_)=>{_(M,tt({get sideOffset(){return r()},get class(){return n(N)}},()=>s,{get ref(){return e()},set ref(c){e(c)},children:(c,y)=>{var h=gr(),d=k(h);rt(d,()=>mr,(C,H)=>{H(C,{})});var w=ot(d,2);const x=S(()=>pt("h-[var(--bits-select-anchor-height)] w-full min-w-[var(--bits-select-anchor-width)] p-1"));rt(w,()=>er,(C,H)=>{H(C,{get class(){return n(x)},children:(D,V)=>{var E=O(),q=k(E);U(q,()=>t.children??Z),g(D,E)},$$slots:{default:!0}})});var A=ot(w,2);rt(A,()=>vr,(C,H)=>{H(C,{})}),g(c,h)},$$slots:{default:!0}}))}),g(m,i)},$$slots:{default:!0}}))}),g(o,p),F()}var pr=W("<!> <!>",1);function Lr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=O(),p=k(s);const l=S(()=>pt("border-input ring-offset-background data-[placeholder]:text-muted-foreground focus:ring-ring flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t.class));rt(p,()=>ur,(u,b)=>{b(u,tt({get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(m){e(m)},children:(m,a)=>{var i=pr(),v=k(i);U(v,()=>t.children??Z);var N=ot(v,2);Ve(N,{class:"size-4 opacity-50"}),g(m,i)},$$slots:{default:!0}}))}),g(o,s),F()}function vr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class"]);var s=O(),p=k(s);const l=S(()=>pt("flex cursor-default items-center justify-center py-1",t.class));rt(p,()=>nr,(u,b)=>{b(u,tt({get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(m){e(m)},children:(m,a)=>{Ve(m,{class:"size-4"})},$$slots:{default:!0}}))}),g(o,s),F()}function mr(o,t){B(t,!0);let e=I(t,"ref",15,null),r=G(t,["$$slots","$$events","$$legacy","ref","class"]);var s=O(),p=k(s);const l=S(()=>pt("flex cursor-default items-center justify-center py-1",t.class));rt(p,()=>lr,(u,b)=>{b(u,tt({get class(){return n(l)}},()=>r,{get ref(){return e()},set ref(m){e(m)},children:(m,a)=>{lo(m,{class:"size-4"})},$$slots:{default:!0}}))}),g(o,s),F()}const Kr=dr;function _r(o,t){B(t,!0);let e=G(t,["$$slots","$$events","$$legacy"]);ge(o,tt({name:"circle-off"},()=>e,{iconNode:[["path",{d:"m2 2 20 20"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92"}]],children:(s,p)=>{var l=O(),u=k(l);U(u,()=>t.children??Z),g(s,l)},$$slots:{default:!0}})),F()}var br=Pe('<circle r="3" fill="white" class="dot-animation svelte-wnub8r"><animateMotion dur="1.5s" repeatCount="indefinite" rotate="auto"><mpath></mpath></animateMotion></circle>'),wr=Pe('<g class="opacity-80"><path></path><!></g>');function Sr(o,t){B(t,!0);let e=I(t,"active",3,null),r=S(p);function s(i,v){if(!i)return{x:0,y:0};const N=v?i.right-t.rects.container.left:i.left-t.rects.container.left,M=i.top+i.height/2-t.rects.container.top;return{x:N,y:M}}function p(){t.rects.container,t.rects.source.node,t.rects.target.node;const i=s(t.rects.source.port,!1),v=s(t.rects.target.port,!0);if(i.x===0&&i.y===0||v.x===0&&v.y===0)return"";const N=5,M=i.x-N,_=v.x+N,c=_-M,y=M+c/2;return`M ${i.x} ${i.y} L ${M} ${i.y} C ${y} ${i.y}, ${y} ${v.y}, ${_} ${v.y} L ${v.x} ${v.y}`}De();var l=wr(),u=j(l);let b;var m=ot(u);{var a=i=>{var v=O();const N=S(()=>e()==="sending"),M=S(()=>`#${t.id}`);var _=k(v);bt(_,16,()=>[0,.3,.6],Vt,(c,y,h)=>{var d=br();at(d,"opacity",h===0?1:h===1?.7:.4);var w=j(d),x=j(w);z(w),z(d),Q(()=>{at(w,"begin",y?`${y}s`:void 0),at(w,"keyPoints",n(N)?"1;0":void 0),at(w,"keyTimes",n(N)?"0;1":void 0),at(w,"calcMode",n(N)?"linear":void 0),at(x,"href",n(M))}),g(c,d)}),g(i,v)};K(m,i=>{(e()==="receiving"||e()==="sending")&&i(a)})}z(l),Q(i=>{at(u,"id",t.id),at(u,"d",n(r)),b=Re(u,0,"fill-none stroke-gray-600 dark:stroke-gray-400 stroke-[2px] transition-colors duration-300 hover:stroke-blue-400 dark:hover:stroke-blue-500 hover:stroke-[3px] svelte-wnub8r",null,b,i)},[()=>({"active-path":e()!==null})]),g(o,l),F()}var yr=W('<div class="flex flex-col justify-between"></div>'),Nr=W('<div class="flex flex-col items-center justify-center h-64 gap-4 text-gray-500 dark:text-gray-300"><!> <p class="text-sm font-medium">No configuration data available</p></div>'),xr=W('<div class="relative"><svg class="absolute inset-0" width="100%" height="100%"></svg> <div class="flex w-full flex-row justify-between overflow-visible"></div></div> <!>',1),Ir=W("<div><!></div>");function Br(o,t){B(t,!0);let e=I(t,"dark",3,!1),r=X(null),s=S(()=>new ho(n(r))),p=S(m),l=S(()=>n(p).nodes),u=S(()=>n(p).links),b=new no;function m(){let _=[],c=[];if(_=t.config.modules.map(h=>({id:h.id,module:h.module,provides:(h.provides||[]).map(d=>({protocol:d,ref:null})),uses:(h.uses||[]).map(d=>({protocol:d})),config:h.config,level:0,isOpen:!1})),t.config.exchange.some(h=>h.module==="__entry__"||h.provider==="__entry__")){const h=t.config.exchange.filter(w=>w.provider==="__entry__").map(w=>({protocol:w.protocol,ref:null})),d=t.config.exchange.filter(w=>w.module==="__entry__").map(w=>({protocol:w.protocol,ref:null}));_.push({id:"__entry__",module:"Entry Point",provides:h,uses:d,config:null,isEntry:!0,level:0,isOpen:!1,ref:void 0})}for(const h of _)h.provides&&h.provides.length>0&&h.provides.sort((d,w)=>{const x=_.find(D=>D.uses&&D.uses.some(V=>V.protocol===d.protocol)),A=_.find(D=>D.uses&&D.uses.some(V=>V.protocol===w.protocol)),C=x?_.indexOf(x):1/0,H=A?_.indexOf(A):1/0;return C-H}),h.uses&&h.uses.length>0&&h.uses.sort((d,w)=>{const x=t.config.exchange.find(E=>E.module===h.id&&E.protocol===d.protocol),A=t.config.exchange.find(E=>E.module===h.id&&E.protocol===w.protocol),C=x?_.find(E=>E.id===x.provider):null,H=A?_.find(E=>E.id===A.provider):null,D=C?_.indexOf(C):1/0,V=H?_.indexOf(H):1/0;return D-V});return c=t.config.exchange.map((h,d)=>({id:`link-${d}`,source:h.provider,sourcePort:h.protocol,target:h.module,targetPort:h.protocol,protocol:h.protocol})),a(_,c),{nodes:_,links:c}}function a(_,c){const y=_.filter(w=>w.isEntry||!c.some(x=>x.source===w.id)),h=new Set,d=y.map(w=>({node:w,level:0}));for(;d.length>0;){const{node:w,level:x}=d.shift();if(h.has(w.id)){w.level=Math.max(w.level||0,x);continue}h.add(w.id),w.level=x;const A=c.filter(C=>C.target===w.id);for(const C of A){const H=_.find(D=>D.id===C.source);H&&d.push({node:H,level:x+1})}}}function i(_,c){return _.findIndex(y=>y.protocol===c)}var v=Ir();let N;var M=j(v);ao(M,{orientation:"both",class:"flex-1",children:(_,c)=>{var y=xr(),h=k(y),d=j(h);bt(d,21,()=>n(u),Vt,(C,H)=>{var D=O();const V=S(()=>n(l).find(L=>L.id===n(H).source)),E=S(()=>n(l).find(L=>L.id===n(H).target)),q=S(()=>{var L;return i(((L=n(V))==null?void 0:L.provides)||[],n(H).sourcePort)}),it=S(()=>{var L;return i(((L=n(E))==null?void 0:L.uses)||[],n(H).targetPort)});var J=k(D);{var $=L=>{const ht=S(()=>{var mt,Rt,_e,be;return{container:n(s).current,source:{port:(mt=b.get(n(V)))==null?void 0:mt.provides[n(q)],node:(Rt=b.get(n(V)))==null?void 0:Rt.node},target:{port:(_e=b.get(n(E)))==null?void 0:_e.uses[n(it)],node:(be=b.get(n(E)))==null?void 0:be.node}}});Sr(L,{get id(){return`path-${n(V).id??""}-${n(E).id??""}`},active:Math.random()<.33?"sending":Math.random()<.5?"receiving":null,get rects(){return n(ht)}})};K(J,L=>{n(V)&&n(E)&&n(q)>=0&&n(it)>=0&&n(r)&&L($)})}g(C,D)}),z(d);var w=ot(d,2);bt(w,21,()=>[...new Set(n(l).map(C=>C.level))].toSorted(),Vt,(C,H)=>{var D=yr();bt(D,20,()=>n(l).filter(V=>V.level===n(H)),V=>V,(V,E)=>{uo(V,{get node(){return E},get class(){return t.nodeClass},get containerRect(){return n(s).current},onPositionChange:q=>b.set(E,q)})}),z(D),g(C,D)}),z(w),Xe(w,C=>Y(r,C),()=>n(r)),z(h);var x=ot(h,2);{var A=C=>{var H=Nr(),D=j(H);_r(D,{class:"w-12 h-12"}),qe(2),z(H),g(C,H)};K(x,C=>{n(l).length===0&&C(A)})}g(_,y)},$$slots:{default:!0}}),z(v),Q(_=>N=Re(v,1,"w-full h-full flex",null,N,_),[()=>({dark:e()})]),g(o,v),F()}export{Br as A,cr as C,Rr as P,Kr as R,Lr as S,Ur as a,Vr as b};
