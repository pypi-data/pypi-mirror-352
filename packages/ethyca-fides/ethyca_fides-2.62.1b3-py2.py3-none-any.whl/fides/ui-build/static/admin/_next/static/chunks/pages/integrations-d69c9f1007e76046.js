(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return n(22406)}])},812:function(t,e,n){"use strict";n.d(e,{D4:function(){return o.D4},MM:function(){return g},Ot:function(){return c},c6:function(){return r},cj:function(){return p},e$:function(){return a},fn:function(){return s},iC:function(){return f},nU:function(){return d},tB:function(){return u}});var i,r,o=n(19043);let l="An unexpected error occurred. Please try again.",a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if((0,o.Bw)(t)){if((0,o.hE)(t.data))return t.data.detail;if((0,o.cz)(t.data)){var n;let e=null===(n=t.data.detail)||void 0===n?void 0:n[0];return"".concat(null==e?void 0:e.msg,": ").concat(null==e?void 0:e.loc)}if(409===t.status&&(0,o.Dy)(t.data)||404===t.status&&(0,o.XD)(t.data))return"".concat(t.data.detail.error," (").concat(t.data.detail.fides_key,")")}return e};function s(t){return"object"==typeof t&&null!=t&&"status"in t}function c(t){return"object"==typeof t&&null!=t&&"data"in t&&"string"==typeof t.data.detail}function u(t){return"object"==typeof t&&null!=t&&"data"in t&&Array.isArray(t.data.detail)}let d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:l};if((0,o.oK)(t))return{status:t.originalStatus,message:t.data};if((0,o.Bw)(t)){let{status:n}=t;return{status:n,message:a(t,e.message)}}return e},g=t=>Object.entries(t).map(t=>({value:t[1],label:t[1]}));(i=r||(r={})).GVL="gvl",i.AC="gacp",i.COMPASS="compass";let f={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},p=t=>{let e=t.split(".")[0];return"gacp"===e?"gacp":"gvl"===e?"gvl":"compass"}},22406:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return L}});var i,r,o,l,a=n(24246),s=n(91942),c=n(27378),u=n(7617),d=n(18225),g=n(77213),f=n(58754),p=n(14207),x=n(8133),h=n(68964),m=n(15987),j=n(75595),v=t=>{let{integrationType:e,onConfigure:n,onCancel:i}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{integration:null==e?void 0:e.placeholder,onConfigureClick:n}),null==e?void 0:e.overview,(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:i,children:"Cancel"})]})]})},C=n(25980),y=n(62165);(i=o||(o={})).ALL="All",i.DATABASE="Database",i.DATA_CATALOG="Data Catalog",i.DATA_WAREHOUSE="Data Warehouse",i.IDENTITY_PROVIDER="Identity Provider",i.WEBSITE="Website";var b=t=>{var e;let{flags:n}=(0,y.Vb)(),i=Object.values(o).filter(t=>"Identity Provider"!==t||n.oktaMonitor),[r,l]=(0,c.useState)(0),a=i[r],[s,u]=(0,c.useState)(!1),d="All"!==a,g=null!==(e=null==t?void 0:t.filter(t=>!d||t.category===a))&&void 0!==e?e:[];return{tabs:i,tabIndex:r,anyFiltersApplied:d,isFiltering:s,onChangeFilter:t=>{u(!0),l(t),setTimeout(()=>u(!1),100)},filteredTypes:g}},A=t=>{let{onCancel:e,onDetailClick:n,onConfigureClick:i}=t,{tabIndex:r,onChangeFilter:o,isFiltering:l,filteredTypes:c,tabs:g}=b(h.FO),{flags:{oktaMonitor:f}}=(0,C.Vb)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.mQc,{index:r,onChange:o,mb:4,children:(0,a.jsx)(s.tdY,{children:g.map(t=>(0,a.jsx)(u.q,{label:t},t))})}),l?(0,a.jsx)(d.Z,{}):(0,a.jsx)(s.kCb,{direction:"column",children:c.map(t=>f||"okta"!==t.placeholder.connection_type?(0,a.jsx)(j.Z,{integration:t.placeholder,onConfigureClick:()=>i(t),otherButtons:(0,a.jsx)(s.wpx,{onClick:()=>n(t),children:"Details"})},t.placeholder.key):null)}),(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:e,children:"Cancel"})]})]})},_=n(64176);(r=l||(l={})).LIST_VIEW="list-view",r.DETAIL="detail",r.FORM="form";var k=t=>{let{isOpen:e,onClose:n}=t,[i,r]=(0,c.useState)("list-view"),[o,l]=(0,c.useState)(),s=(0,_.Z)(null==o?void 0:o.placeholder.connection_type),{description:u}=(0,h.ZP)(null==o?void 0:o.placeholder.connection_type),d=()=>{r("list-view"),l(void 0),n()},g=o?"".concat(o.placeholder.name," Integration"):"Add integration";return(0,a.jsxs)(x.Z,{size:"2xl",isOpen:e,onClose:d,title:g,children:["list-view"===i&&(0,a.jsx)(A,{onCancel:d,onDetailClick:t=>{r("detail"),l(t)},onConfigureClick:t=>{r("form"),l(t)}}),"detail"===i&&(0,a.jsx)(v,{integrationType:o,onConfigure:()=>r("form"),onCancel:d}),"form"===i&&(0,a.jsx)(m.Z,{connectionOption:s,onCancel:d,description:u})]})},w=n(86677),S=n(77830),T=t=>{let{isFiltered:e,onOpenAddModal:n}=t;return(0,a.jsxs)(s.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,a.jsx)(s.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:e?"No integrations match your filters":"You have not configured any integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,a.jsx)(s.wpx,{type:"primary",onClick:n,className:"mt-4",children:"Add integration"})]})},D=t=>{let{integrations:e,isFiltered:n,onOpenAddModal:i}=t,r=(0,w.useRouter)();return(0,a.jsx)(s.xuv,{marginTop:"24px",children:e.length?e.map(t=>(0,a.jsx)(j.Z,{integration:t,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:()=>r.push("".concat(S.KH,"/").concat(t.key))},t.key)):(0,a.jsx)(T,{onOpenAddModal:i,isFiltered:n})})},L=()=>{let[t,e]=(0,c.useState)(1),[n,i]=(0,c.useState)(50),{data:r,isLoading:o}=(0,p.AZ)({connection_type:h.jq,size:n,page:t}),{items:l,total:x}=null!=r?r:{},{onOpen:m,isOpen:j,onClose:v}=(0,s.qY0)(),{tabIndex:C,onChangeFilter:y,anyFiltersApplied:A,isFiltering:_,filteredTypes:w,tabs:S}=b(null==l?void 0:l.map(t=>(0,h.ZP)(t.connection_type))),T=(0,c.useMemo)(()=>{var t;return null!==(t=null==l?void 0:l.filter(t=>w.some(e=>e.placeholder.connection_type===t.connection_type)))&&void 0!==t?t:[]},[l,w]);return(0,a.jsxs)(g.Z,{title:"Integrations",children:[(0,a.jsx)(f.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations"}]}),(0,a.jsxs)(s.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,a.jsx)(s.mQc,{index:C,onChange:t=>{e(1),y(t)},w:"full",children:(0,a.jsx)(s.tdY,{children:S.map(t=>(0,a.jsx)(u.q,{label:t},t))})}),(0,a.jsx)(s.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,a.jsx)(s.wpx,{onClick:m,"data-testid":"add-integration-btn",icon:(0,a.jsx)(s.xPt,{}),iconPosition:"end",children:"Add Integration"})})]}),o||_?(0,a.jsx)(d.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D,{integrations:T,onOpenAddModal:m,isFiltered:A}),!!x&&x>10&&(0,a.jsx)(s.B7X,{"data-testid":"pagination-controls",size:"small",total:x,pageSize:n,current:t,onChange:(t,n)=>{e(t),i(n)},showSizeChanger:!0})]}),(0,a.jsx)(k,{isOpen:j,onClose:v})]})}},19043:function(t,e,n){"use strict";n.d(e,{Bw:function(){return l},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return u},hE:function(){return a},oK:function(){return o}});var i=n(76649);let r=t=>"error"in t,o=t=>(0,i.Ln)({status:"string"},t)&&"PARSING_ERROR"===t.status,l=t=>(0,i.Ln)({status:"number",data:{}},t),a=t=>(0,i.Ln)({detail:"string"},t),s=t=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t),c=t=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t),u=t=>(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},t)}},function(t){t.O(0,[2858,2866,9278,6834,5973,2888,9774,179],function(){return t(t.s=9387)}),_N_E=t.O()}]);