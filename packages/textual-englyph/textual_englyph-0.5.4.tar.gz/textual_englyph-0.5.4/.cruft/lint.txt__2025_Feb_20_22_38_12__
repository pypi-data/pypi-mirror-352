************* Module textual_englyph
src/textual_englyph/__init__.py:2:0: E0401: Unable to import 'textual_englyph._englyph_image' (import-error)
src/textual_englyph/__init__.py:3:0: E0401: Unable to import 'textual_englyph._englyph_text' (import-error)
************* Module textual_englyph.englyph
src/textual_englyph/englyph.py:36:23: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph.py:82:0: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph.py:3:0: E0401: Unable to import 'rich.console' (import-error)
src/textual_englyph/englyph.py:5:0: E0401: Unable to import 'textual.strip' (import-error)
src/textual_englyph/englyph.py:6:0: E0401: Unable to import 'textual.widget' (import-error)
src/textual_englyph/englyph.py:43:8: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)
src/textual_englyph/englyph.py:43:26: E1121: Too many positional arguments for method call (too-many-function-args)
src/textual_englyph/englyph.py:45:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph.py:48:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph.py:49:26: W0613: Unused argument 'container' (unused-argument)
src/textual_englyph/englyph.py:50:26: W0613: Unused argument 'viewport' (unused-argument)
src/textual_englyph/englyph.py:53:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph.py:54:27: W0613: Unused argument 'container' (unused-argument)
src/textual_englyph/englyph.py:55:27: W0613: Unused argument 'viewport' (unused-argument)
src/textual_englyph/englyph.py:56:27: W0613: Unused argument 'width' (unused-argument)
src/textual_englyph/englyph.py:62:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph.py:72:15: E1121: Too many positional arguments for method call (too-many-function-args)
src/textual_englyph/englyph.py:79:37: W0212: Access to a protected member _slate of a client class (protected-access)
src/textual_englyph/englyph.py:79:12: W0612: Unused variable 'idy' (unused-variable)
src/textual_englyph/englyph.py:80:16: W0612: Unused variable 'idx' (unused-variable)
src/textual_englyph/englyph.py:80:21: W0612: Unused variable 'seg' (unused-variable)
src/textual_englyph/englyph.py:95:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph.py:99:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph.py:103:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph.py:115:8: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)
src/textual_englyph/englyph.py:115:26: E1121: Too many positional arguments for method call (too-many-function-args)
src/textual_englyph/englyph.py:120:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph.py:114:8: W0201: Attribute '_font_size' defined outside __init__ (attribute-defined-outside-init)
src/textual_englyph/englyph.py:8:0: W0611: Unused ToGlyxels imported from toglyxels (unused-import)
************* Module textual_englyph.englyph_image
src/textual_englyph/englyph_image.py:60:0: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_image.py:93:21: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_image.py:3:0: E0401: Unable to import 'PIL' (import-error)
src/textual_englyph/englyph_image.py:7:0: E0401: Unable to import 'rich.console' (import-error)
src/textual_englyph/englyph_image.py:8:0: E0401: Unable to import 'rich.segment' (import-error)
src/textual_englyph/englyph_image.py:9:0: E0401: Unable to import 'rich.text' (import-error)
src/textual_englyph/englyph_image.py:11:0: E0401: Unable to import 'textual.geometry' (import-error)
src/textual_englyph/englyph_image.py:12:0: E0401: Unable to import 'textual.strip' (import-error)
src/textual_englyph/englyph_image.py:13:0: E0401: Unable to import 'textual.widget' (import-error)
src/textual_englyph/englyph_image.py:18:0: R0902: Too many instance attributes (8/7) (too-many-instance-attributes)
src/textual_englyph/englyph_image.py:36:8: C0103: Variable name "ImgSize" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/englyph_image.py:36:8: W0612: Unused variable 'ImgSize' (unused-variable)
src/textual_englyph/englyph_image.py:97:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph_image.py:89:12: W0201: Attribute 'interval_update' defined outside __init__ (attribute-defined-outside-init)
src/textual_englyph/englyph_image.py:4:0: C0411: standard import "io" should be placed before third party import "PIL.Image" (wrong-import-order)
src/textual_englyph/englyph_image.py:5:0: C0411: standard import "os" should be placed before third party import "PIL.Image" (wrong-import-order)
src/textual_englyph/englyph_image.py:5:0: W0611: Unused import os (unused-import)
src/textual_englyph/englyph_image.py:7:0: W0611: Unused Console imported from rich.console (unused-import)
src/textual_englyph/englyph_image.py:7:0: W0611: Unused RenderableType imported from rich.console (unused-import)
src/textual_englyph/englyph_image.py:8:0: W0611: Unused Segment imported from rich.segment (unused-import)
src/textual_englyph/englyph_image.py:9:0: W0611: Unused Text imported from rich.text (unused-import)
src/textual_englyph/englyph_image.py:12:0: W0611: Unused Strip imported from textual.strip (unused-import)
src/textual_englyph/englyph_image.py:13:0: W0611: Unused Widget imported from textual.widget (unused-import)
************* Module textual_englyph.englyph_text
src/textual_englyph/englyph_text.py:44:23: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_text.py:90:0: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_text.py:163:29: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_text.py:225:0: W0311: Bad indentation. Found 12 spaces, expected 8 (bad-indentation)
src/textual_englyph/englyph_text.py:269:0: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_text.py:302:21: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/englyph_text.py:3:0: E0401: Unable to import 'PIL' (import-error)
src/textual_englyph/englyph_text.py:8:0: E0401: Unable to import 'rich.console' (import-error)
src/textual_englyph/englyph_text.py:9:0: E0401: Unable to import 'rich.segment' (import-error)
src/textual_englyph/englyph_text.py:10:0: E0401: Unable to import 'rich.text' (import-error)
src/textual_englyph/englyph_text.py:12:0: E0401: Unable to import 'textual.geometry' (import-error)
src/textual_englyph/englyph_text.py:13:0: E0401: Unable to import 'textual.strip' (import-error)
src/textual_englyph/englyph_text.py:14:0: E0401: Unable to import 'textual.widget' (import-error)
src/textual_englyph/englyph_text.py:51:8: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)
src/textual_englyph/englyph_text.py:51:26: E1121: Too many positional arguments for method call (too-many-function-args)
src/textual_englyph/englyph_text.py:53:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph_text.py:56:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph_text.py:57:26: W0613: Unused argument 'container' (unused-argument)
src/textual_englyph/englyph_text.py:58:26: W0613: Unused argument 'viewport' (unused-argument)
src/textual_englyph/englyph_text.py:61:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph_text.py:62:27: W0613: Unused argument 'container' (unused-argument)
src/textual_englyph/englyph_text.py:63:27: W0613: Unused argument 'viewport' (unused-argument)
src/textual_englyph/englyph_text.py:64:27: W0613: Unused argument 'width' (unused-argument)
src/textual_englyph/englyph_text.py:70:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph_text.py:80:15: E1121: Too many positional arguments for method call (too-many-function-args)
src/textual_englyph/englyph_text.py:87:37: W0212: Access to a protected member _slate of a client class (protected-access)
src/textual_englyph/englyph_text.py:87:12: W0612: Unused variable 'idy' (unused-variable)
src/textual_englyph/englyph_text.py:88:16: W0612: Unused variable 'idx' (unused-variable)
src/textual_englyph/englyph_text.py:88:21: W0612: Unused variable 'seg' (unused-variable)
src/textual_englyph/englyph_text.py:103:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph_text.py:107:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph_text.py:111:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph_text.py:123:8: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)
src/textual_englyph/englyph_text.py:123:26: E1121: Too many positional arguments for method call (too-many-function-args)
src/textual_englyph/englyph_text.py:128:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/englyph_text.py:122:8: W0201: Attribute '_font_size' defined outside __init__ (attribute-defined-outside-init)
src/textual_englyph/englyph_text.py:163:4: R0913: Too many arguments (6/5) (too-many-arguments)
src/textual_englyph/englyph_text.py:197:4: R1711: Useless return at end of function or method (useless-return)
src/textual_englyph/englyph_text.py:213:0: C0115: Missing class docstring (missing-class-docstring)
src/textual_englyph/englyph_text.py:222:46: E0602: Undefined variable 'renerable' (undefined-variable)
src/textual_englyph/englyph_text.py:222:12: W0201: Attribute '_renderable' defined outside __init__ (attribute-defined-outside-init)
src/textual_englyph/englyph_text.py:227:0: R0902: Too many instance attributes (8/7) (too-many-instance-attributes)
src/textual_englyph/englyph_text.py:245:8: C0103: Variable name "ImgSize" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/englyph_text.py:245:8: W0612: Unused variable 'ImgSize' (unused-variable)
src/textual_englyph/englyph_text.py:306:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/textual_englyph/englyph_text.py:298:12: W0201: Attribute 'interval_update' defined outside __init__ (attribute-defined-outside-init)
src/textual_englyph/englyph_text.py:4:0: C0411: standard import "io" should be placed before third party import "PIL.Image" (wrong-import-order)
src/textual_englyph/englyph_text.py:5:0: C0411: standard import "os" should be placed before third party import "PIL.Image" (wrong-import-order)
src/textual_englyph/englyph_text.py:6:0: C0411: standard import "typing.List" should be placed before third party import "PIL.Image" (wrong-import-order)
src/textual_englyph/englyph_text.py:5:0: W0611: Unused import os (unused-import)
src/textual_englyph/englyph_text.py:6:0: W0611: Unused List imported from typing (unused-import)
src/textual_englyph/englyph_text.py:9:0: W0611: Unused Segment imported from rich.segment (unused-import)
************* Module textual_englyph.main_demo
src/textual_englyph/main_demo.py:2:0: E0401: Unable to import 'textual.app' (import-error)
src/textual_englyph/main_demo.py:3:0: E0401: Unable to import 'textual.containers' (import-error)
src/textual_englyph/main_demo.py:4:0: E0401: Unable to import 'textual.widgets' (import-error)
src/textual_englyph/main_demo.py:5:0: E0611: No name 'EnGlyph' in module 'textual_englyph' (no-name-in-module)
src/textual_englyph/main_demo.py:50:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/main_demo.py:28:0: R0903: Too few public methods (1/2) (too-few-public-methods)
************* Module textual_englyph.toglyxels
src/textual_englyph/toglyxels.py:78:68: C0303: Trailing whitespace (trailing-whitespace)
src/textual_englyph/toglyxels.py:7:0: E0401: Unable to import 'PIL' (import-error)
src/textual_englyph/toglyxels.py:9:0: E0401: Unable to import 'textual.strip' (import-error)
src/textual_englyph/toglyxels.py:10:0: E0401: Unable to import 'rich.segment' (import-error)
src/textual_englyph/toglyxels.py:11:0: E0401: Unable to import 'rich.style' (import-error)
src/textual_englyph/toglyxels.py:12:0: E0401: Unable to import 'rich.traceback' (import-error)
src/textual_englyph/toglyxels.py:87:12: C0103: Variable name "R" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/toglyxels.py:87:16: C0103: Variable name "G" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/toglyxels.py:87:20: C0103: Variable name "B" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/toglyxels.py:90:12: C0103: Variable name "R" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/toglyxels.py:90:14: C0103: Variable name "G" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/toglyxels.py:90:16: C0103: Variable name "B" doesn't conform to snake_case naming style (invalid-name)
src/textual_englyph/toglyxels.py:167:4: C0116: Missing function or method docstring (missing-function-docstring)
src/textual_englyph/toglyxels.py:176:4: C0116: Missing function or method docstring (missing-function-docstring)
************* Module all_test
testing/all_test.py:2:0: E0401: Unable to import 'textual.app' (import-error)
testing/all_test.py:3:0: E0611: No name 'EnGlyph' in module 'textual_englyph' (no-name-in-module)
************* Module image_test
testing/image_test.py:25:0: C0301: Line too long (113/100) (line-too-long)
testing/image_test.py:30:0: W0311: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)
testing/image_test.py:3:0: E0401: Unable to import 'textual.app' (import-error)
testing/image_test.py:21:4: C0116: Missing function or method docstring (missing-function-docstring)
testing/image_test.py:6:0: R0903: Too few public methods (1/2) (too-few-public-methods)
************* Module just_test
testing/just_test.py:2:0: E0401: Unable to import 'textual.app' (import-error)
testing/just_test.py:7:4: C0116: Missing function or method docstring (missing-function-docstring)
testing/just_test.py:5:0: R0903: Too few public methods (1/2) (too-few-public-methods)
testing/just_test.py:1:0: R0801: Similar lines in 2 files
==textual_englyph.englyph_image:[17:109]
==textual_englyph.englyph_text:[226:318]
class EnGlyphImage( EnGlyph ):
    """Process a PIL image (or path to) into glyxels"""
    DEFAULT_CSS="""
    EnGlyphImage {
        max-height: 24;
    }
    """
    def __init__(self, *args,
                 repeat:int=3,
                 **kwargs ):
        self._repeats_n = repeat
        super().__init__( *args, **kwargs )


    animate = False

    def _rescale_img( self, img ) -> None:
        """Adjust the image by factor and to nearest full cell size and nearest aspect ratio"""
        ImgSize = Size( *img.size )
        cell_width = self.parent.size.width or self.app.size.width
        cell_height = self.styles.max_height.cells
        bbox_x = self.basis[0] * cell_width
        bbox_y = self.basis[1] * cell_height
        im_size = (bbox_x, bbox_y)
        return ImageOps.contain( img, im_size )

    def _update_frame(self, image_frame = None) -> None:
        """accept an image frame to show or move to the next image frame in a sequence"""
        current_frame = self._renderable.tell()
        if image_frame is not None:
            frame = image_frame
        else:
            frame = self._renderable
            if self.animate != 0:
                next_frame = (current_frame + self.animate) % (self._frames_n + 1)
                frame.seek( next_frame )
        self._dblbuff_push( self._rescale_img( frame.convert('RGB') ) )

    def _dblbuff_init(self) -> None:
        frame = self._rescale_img( self._renderable.convert('RGB') )
        self._slate_cache = ToGlyxels.image2slate( frame, basis=self.basis, pips=self.pips )
        self._slate = self._slate_cache

    def _dblbuff_push(self, frame) -> None:
        self._slate = self._slate_cache
        self.refresh(layout=True)
        self._slate_cache = ToGlyxels.image2slate( frame, basis=self.basis, pips=self.pips )

    def _preprocess(self, renderable = None) -> None:
        """A stub init handler to preset "image" properties for glyph processing"""
        if renderable is not None:
            im_buff = renderable
            if isinstance( renderable, str ):
                #Load PIL image from file path
                with open( renderable, 'rb') as fh:
                    im_data = fh.read()
                    im_buff = io.BytesIO( im_data )
            self._renderable = Image.open( im_buff )
        self._frames_n = self._get_frame_count( self._renderable )
        if self._frames_n > 0:
            self.animate = 1
            self._duration_s = self._renderable.info.get("duration", 100)/1000
        else:
            self.animate = 0
        return renderable

    def _process(self ) -> None:
        """A stub on_mount (DOM ready) handler for "image" glyph processing"""
        self._dblbuff_init()
        if self.animate != 0:
            max_frames = self._repeats_n * (self._frames_n + 1)
            self.interval_update = self.set_interval(
                    interval = self._duration_s,
                    callback = self._update_frame,
                    repeat = max_frames
                    )

    def _postprocess(self) -> None:
        """A stub handler to cache a slate (list of strips) from renderable"""
        pass

    def _get_frame_count( self, image ):
        frames_n = 0
        image.seek(0)
        while True:
            try:
                image.seek(frames_n + 1)
                frames_n += 1
            except EOFError:
                break
        image.seek(0)
        return frames_n (duplicate-code)
testing/just_test.py:1:0: R0801: Similar lines in 2 files
==textual_englyph.englyph:[9:122]
==textual_englyph.englyph_text:[17:131]
class EnGlyph( Widget, inherit_bindings=False ):
    '''
    Textual widget to show a variety of large text outputs.

    Args:
        renderable: Rich renderable or string to display
        basis:tuple[(2,4)], the (x,y) partitions of cell glyph pixels (glyxel | gx)
        pips:bool[False], show glyxels in reduced density

        name:str, Standard Textual Widget argument
        id:str, Standard Textual Widget argument
        classes:str, Standard Textual Widget argument
        disabled:bool, Standard Textual Widget argument
    '''

    DEFAULT_CSS = """
    EnGlyph {
        color: $text;
        height: auto;
        width: auto;
    }
    """

    _slate = _slate_cache = [Strip.blank(0)]

    def __init__(self, renderable,
                 *args,
                 basis = (2,4),
                 pips = False,
                 **kwargs ):
        super().__init__( *args, **kwargs )
        self.basis = basis
        self.pips = pips
        self._predicate = self._preprocess( renderable )

    def on_mount( self ):
        self._process()

    def get_content_width(self,
                          container=None,
                          viewport=None):
        return self._slate[0].cell_length

    def get_content_height(self,
                           container=None,
                           viewport=None,
                           width=None):
        return len( self._slate )

    def __add__( self, rhs ):
        """create the union of two EnGlyphed widgets """
        #return self._union( self, rhs )
        pass

    __radd__ = __add__

    def __sub__( self, rhs ):
        """create the difference of two EnGlyphed widgetslinux disables  """
        return self._difference( self, rhs )

    def __mul__( self, rhs ):
        """create the intersection of two EnGlyphed widgets """
        return self._intersection( self, rhs )

    def __div__( self, rhs ):
        """create the intersection of two EnGlyphed widgets """
        return self._disection( self, rhs )

    def _union( self, rhs ):
        for idy, strip in enumerate( rhs._slate ):
            for idx, seg in enumerate( strip ):
                pass



    def _intersection( self, rhs ):
        if isinstance( rhs, float ):
            pass

    def __str__(self) -> str:
        output = [strip.text for strip in self._slate]
        return "\n".join( output )

    def _preprocess(self) -> None:
        """A stub handler for processing the input _predicate to the renderable"""
        pass

    def _process(self) -> None:
        """A stub handler for processing a renderable"""
        pass

    def _postprocess(self) -> None:
        """A stub handler to cache a slate (list of strips) for rendering"""
        pass

    def update( self,
               renderable: RenderableType|None = None,
               basis: tuple|None = None,
               pips: bool|None = None,
               font_size: int|None = None
               ) -> None:
        """New display input"""
        self.basis = basis or self.basis
        self.pips = pips or self.pips
        self._font_size = font_size or self._font_size
        self._predicate = self._preprocess( renderable )
        self._process()
        self._postprocess()
        self.refresh(layout=True)

    def render_line( self, y:int ) -> Strip:
        self._postprocess()
        return self._slate[y]
 (duplicate-code)

------------------------------------------------------------------
Your code has been rated at 3.75/10 (previous run: 9.86/10, -6.11)

