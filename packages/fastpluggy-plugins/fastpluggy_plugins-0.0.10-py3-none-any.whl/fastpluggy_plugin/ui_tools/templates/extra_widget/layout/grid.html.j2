{# Grid layout widget template #}

{% macro render_grid_item(item, request, depth=0) %}
    {% set to_render = item.widget if item.widget else item %}
    {{ render_widget(to_render, request, depth) }}
{% endmacro %}

{% if container_css_classes %}
<div class="{{ container_css_classes }}">
{% endif %}

{% if title %}
<div class="row mb-3">
    <div class="col-12">
        <h3>{{ title }}</h3>
    </div>
</div>
{% endif %}

<div class="{{ row_css_classes }}">
    {% for item in processed_items %}
    <div class="{{ item.get_column_classes() }}">
        {{ render_grid_item(item, request, current_depth|default(0)) }}
    </div>
    {% endfor %}
</div>

{% if container_css_classes %}
</div>
{% endif %}
