{"hat-gateway": {"modbus.yaml": {"id": "hat-gateway://modbus.yaml#", "title": "Modbus devices", "definitions": {"master": {"type": "object", "title": "Modbus master", "required": ["connection", "remote_devices"], "properties": {"connection": {"type": "object", "required": ["modbus_type", "transport", "connect_timeout", "connect_delay", "request_timeout", "request_delay", "request_retry_immediate_count", "request_retry_delayed_count", "request_retry_delay"], "properties": {"modbus_type": {"description": "Modbus message encoding type\n", "enum": ["TCP", "RTU", "ASCII"]}, "transport": {"oneOf": [{"type": "object", "required": ["type", "host", "port"], "properties": {"type": {"const": "TCP"}, "host": {"type": "string", "description": "Remote host name\n"}, "port": {"type": "integer", "description": "Remote host TCP port\n", "default": 502}}}, {"type": "object", "required": ["type", "port", "baudrate", "bytesize", "parity", "stopbits", "flow_control", "silent_interval"], "properties": {"type": {"const": "SERIAL"}, "port": {"type": "string", "description": "Serial port name (e.g. /dev/ttyS0)\n"}, "baudrate": {"type": "integer", "description": "Baud rate (e.g. 9600)\n"}, "bytesize": {"description": "Number of data bits\n", "enum": ["FIVEBITS", "SIXBITS", "SEVENBITS", "EIGHTBITS"]}, "parity": {"description": "Parity checking\n", "enum": ["NONE", "EVEN", "ODD", "MARK", "SPACE"]}, "stopbits": {"description": "Number of stop bits\n", "enum": ["ONE", "ONE_POINT_FIVE", "TWO"]}, "flow_control": {"type": "object", "required": ["xonxoff", "rtscts", "dsrdtr"], "properties": {"xonxoff": {"type": "boolean", "description": "Enable software flow control\n"}, "rtscts": {"type": "boolean", "description": "Enable hardware (RTS/CTS) flow control\n"}, "dsrdtr": {"type": "boolean", "description": "Enable hardware (DSR/DTR) flow control\n"}}}, "silent_interval": {"type": "number", "description": "Serial communication silet interval\n"}}}]}, "connect_timeout": {"type": "number", "description": "Maximum number of seconds available to single connection\nattempt\n"}, "connect_delay": {"type": "number", "description": "Delay (in seconds) between two consecutive connection\nestablishment attempts\n"}, "request_timeout": {"type": "number", "description": "Maximum duration (in seconds) of read or write\nrequest/response exchange.\n"}, "request_delay": {"type": "number", "description": "Delay (in seconds) between two consecutive requests\n(minimal duration between response and next request)\n"}, "request_retry_immediate_count": {"type": "integer", "description": "Number of immediate request retries before remote\ndata is considered unavailable. Total number\nof retries is request_retry_immediate_count *\nrequest_retry_delayed_count.\n"}, "request_retry_delayed_count": {"type": "integer", "description": "Number of delayed request retries before remote data\nis considered unavailable. Total number\nof retries is request_retry_immediate_count *\nrequest_retry_delayed_count.\n"}, "request_retry_delay": {"type": "number", "description": "Delay (in seconds) between two consecutive delayed\nrequest retries\n"}}}, "remote_devices": {"type": "array", "items": {"type": "object", "required": ["device_id", "timeout_poll_delay", "data"], "properties": {"device_id": {"type": "integer", "description": "Modbus device identifier\n"}, "timeout_poll_delay": {"type": "number", "description": "Delay (in seconds) after read timeout and\nbefore device polling is resumed\n"}, "data": {"type": "array", "items": {"type": "object", "required": ["name", "interval", "data_type", "start_address", "bit_offset", "bit_count"], "properties": {"name": {"type": "string", "description": "Data point name\n"}, "interval": {"type": ["number", "null"], "description": "Polling interval in seconds or\nnull if polling is disabled\n"}, "data_type": {"description": "Modbus register type\n", "enum": ["COIL", "DISCRETE_INPUT", "HOLDING_REGISTER", "INPUT_REGISTER", "QUEUE"]}, "start_address": {"type": "integer", "description": "Starting address of modbus register\n"}, "bit_offset": {"type": "integer", "description": "Bit offset (number of bits skipped)\n"}, "bit_count": {"type": "integer", "description": "Number of bits used for\nencoding/decoding value (not\nincluding offset bits)\n"}}}}}}}}}, "events": {"master": {"gateway": {"status": {"enum": ["DISCONNECTED", "CONNECTING", "CONNECTED"]}, "remote_device_status": {"enum": ["DISABLED", "CONNECTING", "CONNECTED", "DISCONNECTED"]}, "read": {"type": "object", "required": ["result"], "properties": {"result": {"enum": ["SUCCESS", "INVALID_FUNCTION_CODE", "INVALID_DATA_ADDRESS", "INVALID_DATA_VALUE", "FUNCTION_ERROR"]}, "value": {"type": "integer"}, "cause": {"enum": ["INTERROGATE", "CHANGE"]}}}, "write": {"type": "object", "required": ["request_id", "result"], "properties": {"request_id": {"type": "string"}, "result": {"enum": ["SUCCESS", "INVALID_FUNCTION_CODE", "INVALID_DATA_ADDRESS", "INVALID_DATA_VALUE", "FUNCTION_ERROR", "TIMEOUT"]}}}}, "system": {"enable": {"type": "boolean"}, "write": {"type": "object", "required": ["request_id", "value"], "properties": {"request_id": {"type": "string"}, "value": {"type": "integer"}}}}}}}}, "iec103.yaml": {"id": "hat-gateway://iec103.yaml#", "definitions": {"master": {"type": "object", "required": ["port", "baudrate", "bytesize", "parity", "stopbits", "flow_control", "silent_interval", "reconnect_delay", "remote_devices"], "properties": {"port": {"type": "string"}, "baudrate": {"type": "integer"}, "bytesize": {"enum": ["FIVEBITS", "SIXBITS", "SEVENBITS", "EIGHTBITS"]}, "parity": {"enum": ["NONE", "EVEN", "ODD", "MARK", "SPACE"]}, "stopbits": {"enum": ["ONE", "ONE_POINT_FIVE", "TWO"]}, "flow_control": {"type": "object", "required": ["xonxoff", "rtscts", "dsrdtr"], "properties": {"xonxoff": {"type": "boolean"}, "rtscts": {"type": "boolean"}, "dsrdtr": {"type": "boolean"}}}, "silent_interval": {"type": "number"}, "reconnect_delay": {"type": "number"}, "remote_devices": {"type": "array", "items": {"type": "object", "required": ["address", "response_timeout", "send_retry_count", "poll_class1_delay", "poll_class2_delay", "reconnect_delay", "time_sync_delay"], "properties": {"address": {"type": "integer"}, "response_timeout": {"type": "number"}, "send_retry_count": {"type": "integer"}, "poll_class1_delay": {"type": ["null", "number"]}, "poll_class2_delay": {"type": ["null", "number"]}, "reconnect_delay": {"type": "number"}, "time_sync_delay": {"type": ["null", "number"]}}}}}}, "events": {"master": {"gateway": {"status": {"enum": ["CONNECTING", "CONNECTED", "DISCONNECTED"]}, "data": {"type": "object", "required": ["cause", "value"], "properties": {"cause": {"oneOf": [{"enum": ["SPONTANEOUS", "CYCLIC", "TEST_MODE", "GENERAL_INTERROGATION", "LOCAL_OPERATION", "REMOTE_OPERATION"]}, {"type": "integer", "description": "other cause in range [0, 255]\n"}]}, "value": {"oneOf": [{"$ref": "hat-gateway://iec103.yaml#/definitions/values/double"}, {"$ref": "hat-gateway://iec103.yaml#/definitions/values/measurand"}]}}}, "command": {"type": "object", "required": ["session_id", "success"], "properties": {"success": {"type": "boolean"}}}}, "system": {"enable": {"type": "boolean"}, "command": {"type": "object", "required": ["session_id", "value"], "properties": {"value": {"$ref": "hat-gateway://iec103.yaml#/definitions/values/double"}}}}}}, "values": {"double": {"enum": ["TRANSIENT", "OFF", "ON", "ERROR"]}, "measurand": {"type": "object", "required": ["overflow", "invalid", "value"], "properties": {"overflow": {"type": "boolean"}, "invalid": {"type": "boolean"}, "value": {"type": "number"}}}}}}, "main.yaml": {"id": "hat-gateway://main.yaml#", "title": "Gateway", "description": "Gateway's configuration", "allOf": [{"type": "object", "required": ["type", "log", "gateway_name", "devices"], "properties": {"type": {"enum": ["gateway"], "description": "configuration type identification"}, "version": {"type": "string", "description": "component version"}, "log": {"$ref": "hat-json://logging.yaml#"}, "gateway_name": {"type": "string"}, "devices": {"type": "array", "items": {"$ref": "hat-gateway://main.yaml#/definitions/device"}}}}, {"oneOf": [{"type": "object", "required": ["monitor", "event_server_group"], "properties": {"monitor": {"$ref": "hat-monitor://client.yaml#"}, "event_server_group": {"type": "string"}}}, {"type": "object", "required": ["event_server_address"], "properties": {"event_server_address": {"type": "string"}}}]}], "definitions": {"device": {"type": "object", "description": "structure of device configuration depends on device type\n", "required": ["module", "name"], "properties": {"module": {"type": "string", "description": "full python module name that implements device\n"}, "name": {"type": "string"}}}}}, "ping.yaml": {"$schema": "https://json-schema.org/draft/2020-12/schema", "$id": "hat-gateway://ping.yaml", "id": "hat-gateway://ping.yaml#", "$defs": {"device": {"type": "object", "required": ["remote_devices"], "properties": {"remote_devices": {"type": "array", "items": {"type": "object", "required": ["name", "host", "ping_delay", "ping_timeout", "retry_count", "retry_delay"], "properties": {"name": {"type": "string"}, "host": {"type": "string"}, "ping_delay": {"type": "number"}, "ping_timeout": {"type": "number"}, "retry_count": {"type": "number"}, "retry_delay": {"type": "number"}}}}}}, "events": {"status": {"enum": ["AVAILABLE", "NOT_AVAILABLE"]}}}}, "snmp.yaml": {"$schema": "https://json-schema.org/draft/2020-12/schema", "$id": "hat-gateway://snmp.yaml", "id": "hat-gateway://snmp.yaml#", "$defs": {"manager": {"allOf": [{"oneOf": [{"$ref": "hat-gateway://snmp.yaml#/$defs/managers/v1"}, {"$ref": "hat-gateway://snmp.yaml#/$defs/managers/v2c"}, {"$ref": "hat-gateway://snmp.yaml#/$defs/managers/v3"}]}, {"type": "object", "required": ["remote_host", "remote_port", "connect_delay", "request_timeout", "request_retry_count", "request_retry_delay", "polling_delay", "polling_oids", "string_hex_oids"], "properties": {"remote_host": {"type": "string", "description": "Remote hostname or IP address\n"}, "remote_port": {"type": "integer", "description": "Remote UDP port\n"}, "connect_delay": {"type": "number", "description": "Delay (in seconds) between two consecutive connection\nestablishment attempts\n"}, "request_timeout": {"type": "number", "description": "Maximum duration (in seconds) of request/response\nexchange\n"}, "request_retry_count": {"type": "integer", "description": "Number of request retries before remote data is\nconsidered unavailable\n"}, "request_retry_delay": {"type": "number", "description": "Delay (in seconds) between two consecutive request\nretries\n"}, "polling_delay": {"type": "number", "description": "Delay (in seconds) between two consecutive polling\ncycles\n"}, "polling_oids": {"type": "array", "items": {"type": "string", "description": "OID read during polling cycle formated as integers\nseparated by '.'\n"}}, "string_hex_oids": {"type": "array", "items": {"type": "string", "description": "OID associated to string hex value formated as\nintegers separated by '.'\n"}}}}]}, "managers": {"v1": {"type": "object", "required": ["version", "community"], "properties": {"version": {"const": "V1"}, "community": {"type": "string"}}}, "v2c": {"type": "object", "required": ["version", "community"], "properties": {"version": {"const": "V2C"}, "community": {"type": "string"}}}, "v3": {"type": "object", "required": ["version", "context", "user", "authentication", "privacy"], "properties": {"version": {"const": "V3"}, "context": {"oneOf": [{"type": "null"}, {"type": "object", "required": ["engine_id", "name"], "properties": {"engine_id": {"type": "string", "description": "sequence of hexadecimal digits\n"}, "name": {"type": "string"}}}]}, "user": {"type": "string"}, "authentication": {"oneOf": [{"type": "null"}, {"type": "object", "required": ["type", "password"], "properties": {"type": {"enum": ["MD5", "SHA"]}, "password": {"type": "string"}}}]}, "privacy": {"oneOf": [{"type": "null"}, {"type": "object", "required": ["type", "password"], "properties": {"type": {"const": "DES"}, "password": {"type": "string"}}}]}}}}, "events": {"manager": {"gateway": {"status": {"enum": ["CONNECTING", "CONNECTED", "DISCONNECTED"]}, "read": {"type": "object", "required": ["session_id", "cause", "data"], "properties": {"session_id": {"oneOf": [{"type": "null", "description": "In case of INTERROGATE or CHANGE cause\n"}, {"description": "In case of REQUESTED cause\n"}]}, "cause": ["INTERROGATE", "CHANGE", "REQUESTED"], "data": {"$ref": "hat-gateway://snmp.yaml#/$defs/data"}}}, "write": {"type": "object", "required": ["session_id", "success"], "properties": {"success": {"type": "boolean"}}}}, "system": {"read": {"type": "object", "required": ["session_id"]}, "write": {"type": "object", "required": ["session_id", "data"], "properties": {"data": {"$ref": "hat-gateway://snmp.yaml#/$defs/data"}}}}}}, "data": {"oneOf": [{"type": "object", "required": ["type", "value"], "properties": {"type": {"enum": ["INTEGER", "UNSIGNED", "COUNTER", "BIG_COUNTER", "TIME_TICKS"]}, "value": {"type": "integer"}}}, {"type": "object", "required": ["type", "value"], "properties": {"type": {"enum": ["STRING", "STRING_HEX", "OBJECT_ID", "IP_ADDRESS", "ARBITRARY"]}, "value": {"type": "string"}}}, {"type": "object", "required": ["type", "value"], "properties": {"type": {"const": "ERROR"}, "value": {"enum": ["TOO_BIG", "NO_SUCH_NAME", "BAD_VALUE", "READ_ONLY", "GEN_ERR", "NO_ACCESS", "WRONG_TYPE", "WRONG_LENGTH", "WRONG_ENCODING", "WRONG_VALUE", "NO_CREATION", "INCONSISTENT_VALUE", "RESOURCE_UNAVAILABLE", "COMMIT_FAILED", "UNDO_FAILED", "AUTHORIZATION_ERROR", "NOT_WRITABLE", "INCONSISTENT_NAME", "EMPTY", "UNSPECIFIED", "NO_SUCH_OBJECT", "NO_SUCH_INSTANCE", "END_OF_MIB_VIEW", "NOT_IN_TIME_WINDOWS", "UNKNOWN_USER_NAMES", "UNKNOWN_ENGINE_IDS", "WRONG_DIGESTS", "DECRYPTION_ERRORS"]}}}]}}}, "iec104.yaml": {"id": "hat-gateway://iec104.yaml#", "definitions": {"master": {"type": "object", "required": ["remote_addresses", "response_timeout", "supervisory_timeout", "test_timeout", "send_window_size", "receive_window_size", "reconnect_delay", "time_sync_delay", "security"], "properties": {"remote_addresses": {"type": "array", "items": {"type": "object", "required": ["host", "port"], "properties": {"host": {"type": "string"}, "port": {"type": "integer"}}}}, "response_timeout": {"type": "number"}, "supervisory_timeout": {"type": "number"}, "test_timeout": {"type": "number"}, "send_window_size": {"type": "integer"}, "receive_window_size": {"type": "integer"}, "reconnect_delay": {"type": "number"}, "time_sync_delay": {"type": ["null", "number"]}, "security": {"oneOf": [{"type": "null"}, {"$ref": "hat-gateway://iec104.yaml#/definitions/security"}]}}}, "slave": {"type": "object", "required": ["local_host", "local_port", "remote_hosts", "max_connections", "response_timeout", "supervisory_timeout", "test_timeout", "send_window_size", "receive_window_size", "security", "buffers", "data"], "properties": {"local_host": {"type": "string"}, "local_port": {"type": "integer"}, "remote_hosts": {"type": ["array", "null"], "description": "if null, all remote hosts are allowed\n", "items": {"type": "string"}}, "max_connections": {"type": ["null", "integer"]}, "response_timeout": {"type": "number"}, "supervisory_timeout": {"type": "number"}, "test_timeout": {"type": "number"}, "send_window_size": {"type": "integer"}, "receive_window_size": {"type": "integer"}, "security": {"oneOf": [{"type": "null"}, {"$ref": "hat-gateway://iec104.yaml#/definitions/security"}]}, "buffers": {"type": "array", "items": {"type": "object", "required": ["name", "size"], "properties": {"name": {"type": "string"}, "size": {"type": "integer"}}}}, "data": {"type": "array", "items": {"type": "object", "required": ["data_type", "asdu_address", "io_address", "buffer"], "properties": {"data_type": {"enum": ["SINGLE", "DOUBLE", "STEP_POSITION", "BITSTRING", "NORMALIZED", "SCALED", "FLOATING", "BINARY_COUNTER", "PROTECTION", "PROTECTION_START", "PROTECTION_COMMAND", "STATUS"]}, "asdu_address": {"type": "integer"}, "io_address": {"type": "integer"}, "buffer": {"type": ["null", "string"]}}}}}}, "events": {"master": {"gateway": {"status": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/gateway/status"}, "data": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/gateway/data"}, "command": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/gateway/command"}, "interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/gateway/interrogation"}, "counter_interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/gateway/counter_interrogation"}}, "system": {"command": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/system/command"}, "interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/system/interrogation"}, "counter_interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/master/system/counter_interrogation"}}}, "slave": {"gateway": {"connections": {"$ref": "hat-gateway://iec104.yaml#/definitions/messages/connections"}, "command": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/slave/gateway/command"}}, "system": {"data": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/slave/system/data"}, "command": {"$ref": "hat-gateway://iec101.yaml#/definitions/events/slave/system/command"}}}}, "messages": {"connections": {"type": "array", "items": {"type": "object", "required": ["connection_id", "local", "remote"], "properties": {"connection_id": {"type": "integer"}, "local": {"type": "object", "required": ["host", "port"], "properties": {"host": {"type": "string"}, "port": {"type": "integer"}}}, "remote": {"type": "object", "required": ["host", "port"], "properties": {"host": {"type": "string"}, "port": {"type": "integer"}}}}}}}, "security": {"type": "object", "required": ["cert_path", "key_path", "verify_cert", "ca_path"], "properties": {"cert_path": {"type": "string"}, "key_path": {"type": ["null", "string"]}, "verify_cert": {"type": "boolean"}, "ca_path": {"type": ["null", "string"]}, "strict_mode": {"type": "boolean"}, "renegotiate_delay": {"type": ["null", "number"]}}}}}, "iec101.yaml": {"id": "hat-gateway://iec101.yaml#", "definitions": {"master": {"type": "object", "required": ["port", "baudrate", "bytesize", "parity", "stopbits", "flow_control", "silent_interval", "device_address_size", "cause_size", "asdu_address_size", "io_address_size", "reconnect_delay", "remote_devices"], "properties": {"port": {"type": "string"}, "baudrate": {"type": "integer"}, "bytesize": {"enum": ["FIVEBITS", "SIXBITS", "SEVENBITS", "EIGHTBITS"]}, "parity": {"enum": ["NONE", "EVEN", "ODD", "MARK", "SPACE"]}, "stopbits": {"enum": ["ONE", "ONE_POINT_FIVE", "TWO"]}, "flow_control": {"type": "object", "required": ["xonxoff", "rtscts", "dsrdtr"], "properties": {"xonxoff": {"type": "boolean"}, "rtscts": {"type": "boolean"}, "dsrdtr": {"type": "boolean"}}}, "silent_interval": {"type": "number"}, "device_address_size": {"enum": ["ONE", "TWO"]}, "cause_size": {"enum": ["ONE", "TWO"]}, "asdu_address_size": {"enum": ["ONE", "TWO"]}, "io_address_size": {"enum": ["ONE", "TWO", "THREE"]}, "reconnect_delay": {"type": "number"}, "remote_devices": {"type": "array", "items": {"type": "object", "required": ["address", "response_timeout", "send_retry_count", "poll_class1_delay", "poll_class2_delay", "reconnect_delay", "time_sync_delay"], "properties": {"address": {"type": "integer"}, "response_timeout": {"type": "number"}, "send_retry_count": {"type": "integer"}, "poll_class1_delay": {"type": ["null", "number"]}, "poll_class2_delay": {"type": ["null", "number"]}, "reconnect_delay": {"type": "number"}, "time_sync_delay": {"type": ["null", "number"]}}}}}}, "slave": {"type": "object", "required": ["port", "addresses", "baudrate", "bytesize", "parity", "stopbits", "flow_control", "silent_interval", "device_address_size", "keep_alive_timeout", "cause_size", "asdu_address_size", "io_address_size", "buffers", "data"], "properties": {"port": {"type": "string"}, "addresses": {"type": "array", "items": {"type": "integer"}}, "baudrate": {"type": "integer"}, "bytesize": {"enum": ["FIVEBITS", "SIXBITS", "SEVENBITS", "EIGHTBITS"]}, "parity": {"enum": ["NONE", "EVEN", "ODD", "MARK", "SPACE"]}, "stopbits": {"enum": ["ONE", "ONE_POINT_FIVE", "TWO"]}, "flow_control": {"type": "object", "required": ["xonxoff", "rtscts", "dsrdtr"], "properties": {"xonxoff": {"type": "boolean"}, "rtscts": {"type": "boolean"}, "dsrdtr": {"type": "boolean"}}}, "silent_interval": {"type": "number"}, "device_address_size": {"enum": ["ONE", "TWO"]}, "keep_alive_timeout": {"type": "number"}, "cause_size": {"enum": ["ONE", "TWO"]}, "asdu_address_size": {"enum": ["ONE", "TWO"]}, "io_address_size": {"enum": ["ONE", "TWO", "THREE"]}, "buffers": {"type": "array", "items": {"type": "object", "required": ["name", "size"], "properties": {"name": {"type": "string"}, "size": {"type": "integer"}}}}, "data": {"type": "array", "items": {"type": "object", "required": ["data_type", "asdu_address", "io_address", "buffer"], "properties": {"data_type": {"enum": ["SINGLE", "DOUBLE", "STEP_POSITION", "BITSTRING", "NORMALIZED", "SCALED", "FLOATING", "BINARY_COUNTER", "PROTECTION", "PROTECTION_START", "PROTECTION_COMMAND", "STATUS"]}, "asdu_address": {"type": "integer"}, "io_address": {"type": "integer"}, "buffer": {"type": ["null", "string"]}}}}}}, "events": {"master": {"gateway": {"status": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/status"}, "data": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/data/res"}, "command": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/command/res"}, "interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/interrogation/res"}, "counter_interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/counter_interrogation/res"}}, "system": {"enable": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/enable"}, "command": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/command/req"}, "interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/interrogation/req"}, "counter_interrogation": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/counter_interrogation/req"}}}, "slave": {"gateway": {"connections": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/connections"}, "command": {"allOf": [{"type": "object", "required": ["connection_id"], "properties": {"connection_id": {"type": "integer"}}}, {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/command/req"}]}}, "system": {"data": {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/data/res"}, "command": {"allOf": [{"type": "object", "required": ["connection_id"], "properties": {"connection_id": {"type": "integer"}}}, {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/command/res"}]}}}}, "messages": {"enable": {"type": "boolean"}, "status": {"enum": ["CONNECTING", "CONNECTED", "DISCONNECTED"]}, "connections": {"type": "array", "items": {"type": "object", "required": ["connection_id", "address"], "properties": {"connection_id": {"type": "integer"}, "address": {"type": "integer"}}}}, "data": {"res": {"type": "object", "required": ["is_test", "cause", "data"], "properties": {"is_test": {"type": "boolean"}, "cause": {"$ref": "hat-gateway://iec101.yaml#/definitions/causes/data/res"}, "data": {"oneOf": [{"$ref": "hat-gateway://iec101.yaml#/definitions/data/single"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/double"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/step_position"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/bitstring"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/normalized"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/scaled"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/floating"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/binary_counter"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/protection"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/protection_start"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/protection_command"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/data/status"}]}}}}, "command": {"req": {"type": "object", "required": ["is_test", "cause", "command"], "properties": {"is_test": {"type": "boolean"}, "cause": {"$ref": "hat-gateway://iec101.yaml#/definitions/causes/command/req"}, "command": {"oneOf": [{"$ref": "hat-gateway://iec101.yaml#/definitions/commands/single"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/double"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/regulating"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/normalized"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/scaled"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/floating"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/bitstring"}]}}}, "res": {"type": "object", "required": ["is_test", "is_negative_confirm", "cause", "command"], "properties": {"is_test": {"type": "boolean"}, "is_negative_confirm": {"type": "boolean"}, "cause": {"$ref": "hat-gateway://iec101.yaml#/definitions/causes/command/res"}, "command": {"oneOf": [{"$ref": "hat-gateway://iec101.yaml#/definitions/commands/single"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/double"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/regulating"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/normalized"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/scaled"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/floating"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/commands/bitstring"}]}}}}, "interrogation": {"req": {"type": "object", "required": ["is_test", "request", "cause"], "properties": {"is_test": {"type": "boolean"}, "request": {"type": "integer", "description": "request in range [0, 255]\n"}, "cause": {"$ref": "hat-gateway://iec101.yaml#/definitions/causes/command/req"}}}, "res": {"type": "object", "required": ["is_test", "is_negative_confirm", "request", "cause"], "properties": {"is_test": {"type": "boolean"}, "is_negative_confirm": {"type": "boolean"}, "request": {"type": "integer", "description": "request in range [0, 255]\n"}, "cause": {"$ref": "hat-gateway://iec101.yaml#/definitions/causes/command/res"}}}}, "counter_interrogation": {"req": {"allOf": [{"type": "object", "required": ["freeze"], "properties": {"freeze": {"enum": ["READ", "FREEZE", "FREEZE_AND_RESET", "RESET"]}}}, {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/interrogation/req"}]}, "res": {"allOf": [{"type": "object", "required": ["freeze"], "properties": {"freeze": {"enum": ["READ", "FREEZE", "FREEZE_AND_RESET", "RESET"]}}}, {"$ref": "hat-gateway://iec101.yaml#/definitions/messages/interrogation/res"}]}}}, "data": {"single": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/single"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/indication"}}}, "double": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/double"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/indication"}}}, "step_position": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/step_position"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/measurement"}}}, "bitstring": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/bitstring"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/measurement"}}}, "normalized": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/normalized"}, "quality": {"oneOf": [{"type": "null"}, {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/measurement"}]}}}, "scaled": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/scaled"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/measurement"}}}, "floating": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/floating"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/measurement"}}}, "binary_counter": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/binary_counter"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/counter"}}}, "protection": {"type": "object", "required": ["value", "quality", "elapsed_time"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/protection"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/protection"}, "elapsed_time": {"type": "integer", "description": "elapsed_time in range [0, 65535]\n"}}}, "protection_start": {"type": "object", "required": ["value", "quality", "duration_time"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/protection_start"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/protection"}, "duration_time": {"type": "integer", "description": "duration_time in range [0, 65535]\n"}}}, "protection_command": {"type": "object", "required": ["value", "quality", "operating_time"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/protection_command"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/protection"}, "operating_time": {"type": "integer", "description": "operating_time in range [0, 65535]\n"}}}, "status": {"type": "object", "required": ["value", "quality"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/status"}, "quality": {"$ref": "hat-gateway://iec101.yaml#/definitions/qualities/measurement"}}}}, "commands": {"single": {"type": "object", "required": ["value", "select", "qualifier"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/single"}, "select": {"type": "boolean"}, "qualifier": {"type": "integer", "description": "qualifier in range [0, 31]\n"}}}, "double": {"type": "object", "required": ["value", "select", "qualifier"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/double"}, "select": {"type": "boolean"}, "qualifier": {"type": "integer", "description": "qualifier in range [0, 31]\n"}}}, "regulating": {"type": "object", "required": ["value", "select", "qualifier"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/regulating"}, "select": {"type": "boolean"}, "qualifier": {"type": "integer", "description": "qualifier in range [0, 31]\n"}}}, "normalized": {"type": "object", "required": ["value", "select"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/normalized"}, "select": {"type": "boolean"}}}, "scaled": {"type": "object", "required": ["value", "select"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/scaled"}, "select": {"type": "boolean"}}}, "floating": {"type": "object", "required": ["value", "select"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/floating"}, "select": {"type": "boolean"}}}, "bitstring": {"type": "object", "required": ["value"], "properties": {"value": {"$ref": "hat-gateway://iec101.yaml#/definitions/values/bitstring"}}}}, "values": {"single": {"enum": ["OFF", "ON"]}, "double": {"enum": ["INTERMEDIATE", "OFF", "ON", "FAULT"]}, "regulating": {"enum": ["LOWER", "HIGHER"]}, "step_position": {"type": "object", "required": ["value", "transient"], "properties": {"value": {"type": "integer", "description": "value in range [-64, 63]\n"}, "transient": {"type": "boolean"}}}, "bitstring": {"type": "array", "description": "bitstring encoded as 4 bytes\n", "items": {"type": "integer"}}, "normalized": {"type": "number", "description": "value in range [-1.0, 1.0)\n"}, "scaled": {"type": "integer", "description": "value in range [-2^15, 2^15-1]\n"}, "floating": {"oneOf": [{"type": "number"}, {"enum": ["nan", "inf", "-inf"]}]}, "binary_counter": {"type": "integer", "description": "value in range [-2^31, 2^31-1]\n"}, "protection": {"enum": ["OFF", "ON"]}, "protection_start": {"type": "object", "required": ["general", "l1", "l2", "l3", "ie", "reverse"], "properties": {"general": {"type": "boolean"}, "l1": {"type": "boolean"}, "l2": {"type": "boolean"}, "l3": {"type": "boolean"}, "ie": {"type": "boolean"}, "reverse": {"type": "boolean"}}}, "protection_command": {"type": "object", "required": ["general", "l1", "l2", "l3"], "properties": {"general": {"type": "boolean"}, "l1": {"type": "boolean"}, "l2": {"type": "boolean"}, "l3": {"type": "boolean"}}}, "status": {"type": "object", "required": ["value", "change"], "properties": {"value": {"type": "array", "description": "value length is 16\n", "items": {"type": "boolean"}}, "change": {"type": "array", "description": "change length is 16\n", "items": {"type": "boolean"}}}}}, "qualities": {"indication": {"type": "object", "required": ["invalid", "not_topical", "substituted", "blocked"], "properties": {"invalid": {"type": "boolean"}, "not_topical": {"type": "boolean"}, "substituted": {"type": "boolean"}, "blocked": {"type": "boolean"}}}, "measurement": {"type": "object", "required": ["invalid", "not_topical", "substituted", "blocked", "overflow"], "properties": {"invalid": {"type": "boolean"}, "not_topical": {"type": "boolean"}, "substituted": {"type": "boolean"}, "blocked": {"type": "boolean"}, "overflow": {"type": "boolean"}}}, "counter": {"type": "object", "required": ["invalid", "adjusted", "overflow", "sequence"], "properties": {"invalid": {"type": "boolean"}, "adjusted": {"type": "boolean"}, "overflow": {"type": "boolean"}, "sequence": {"type": "boolean"}}}, "protection": {"type": "object", "required": ["invalid", "not_topical", "substituted", "blocked", "time_invalid"], "properties": {"invalid": {"type": "boolean"}, "not_topical": {"type": "boolean"}, "substituted": {"type": "boolean"}, "blocked": {"type": "boolean"}, "time_invalid": {"type": "boolean"}}}}, "causes": {"data": {"res": {"oneOf": [{"enum": ["PERIODIC", "BACKGROUND_SCAN", "SPONTANEOUS", "REQUEST", "REMOTE_COMMAND", "LOCAL_COMMAND", "INTERROGATED"]}, {"type": "integer", "description": "other cause in range [0, 63]\n"}]}}, "command": {"req": {"oneOf": [{"enum": ["ACTIVATION", "DEACTIVATION"]}, {"type": "integer", "description": "other cause in range [0, 63]\n"}]}, "res": {"oneOf": [{"enum": ["ACTIVATION_CONFIRMATION", "DEACTIVATION_CONFIRMATION", "ACTIVATION_TERMINATION", "UNKNOWN_TYPE", "UNKNOWN_CAUSE", "UNKNOWN_ASDU_ADDRESS", "UNKNOWN_IO_ADDRESS"]}, {"type": "integer", "description": "other cause in range [0, 63]\n"}]}}}}}}}